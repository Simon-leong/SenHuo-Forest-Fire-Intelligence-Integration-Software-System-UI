/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.4.13
 * 编译日期：2022-11-07 22:46:49
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';var _0x2c1a02=_0x257a;(function(_0x4067aa,_0x58364b){var _0x53143f=_0x257a,_0x41bc13=_0x4067aa();while(!![]){try{var _0x4d44d4=parseInt(_0x53143f(0x1e1))/0x1*(parseInt(_0x53143f(0x1d2))/0x2)+parseInt(_0x53143f(0xb2))/0x3*(parseInt(_0x53143f(0x142))/0x4)+-parseInt(_0x53143f(0xc6))/0x5+parseInt(_0x53143f(0x208))/0x6+parseInt(_0x53143f(0x1d6))/0x7+parseInt(_0x53143f(0x1b5))/0x8+parseInt(_0x53143f(0xb8))/0x9*(-parseInt(_0x53143f(0x20d))/0xa);if(_0x4d44d4===_0x58364b)break;else _0x41bc13['push'](_0x41bc13['shift']());}catch(_0x4f9018){_0x41bc13['push'](_0x41bc13['shift']());}}}(_0x3444,0x3399a));function _interopNamespace(_0x5f1cd8){var _0x31bb1d=_0x257a;if(_0x5f1cd8&&_0x5f1cd8[_0x31bb1d(0x197)])return _0x5f1cd8;var _0x4ae87a=Object[_0x31bb1d(0xbe)](null);return _0x5f1cd8&&Object[_0x31bb1d(0x16d)](_0x5f1cd8)['forEach'](function(_0x19710f){var _0x5459d1=_0x31bb1d;if(_0x19710f!==_0x5459d1(0x16f)){var _0x1cf32b=Object[_0x5459d1(0x1cf)](_0x5f1cd8,_0x19710f);Object['defineProperty'](_0x4ae87a,_0x19710f,_0x1cf32b['get']?_0x1cf32b:{'enumerable':!![],'get':function(){return _0x5f1cd8[_0x19710f];}});}}),_0x4ae87a['default']=_0x5f1cd8,_0x4ae87a;}var mars3d__namespace=_interopNamespace(mars3d),Cesium$7=mars3d__namespace['Cesium'];function getU(_0x4387c5,_0x1ab7cc){var _0x225e61=_0x257a,_0x23d46c=_0x4387c5*Math[_0x225e61(0x145)](Cesium$7[_0x225e61(0x13b)]['toRadians'](_0x1ab7cc));return _0x23d46c;}function _0x257a(_0x2d7b47,_0x3f18cd){var _0x3444f3=_0x3444();return _0x257a=function(_0x257a94,_0x23366d){_0x257a94=_0x257a94-0xb1;var _0x48826d=_0x3444f3[_0x257a94];return _0x48826d;},_0x257a(_0x2d7b47,_0x3f18cd);}function getV(_0x5b9e05,_0x19e353){var _0x5853e2=_0x257a,_0x2c7f20=_0x5b9e05*Math[_0x5853e2(0x152)](Cesium$7[_0x5853e2(0x13b)][_0x5853e2(0x1d8)](_0x19e353));return _0x2c7f20;}function getSpeed(_0x1dcd26,_0x2c88f5){var _0x406121=_0x257a,_0x2ba68c=Math['sqrt'](Math[_0x406121(0x155)](_0x1dcd26,0x2)+Math[_0x406121(0x155)](_0x2c88f5,0x2));return _0x2ba68c;}function getDirection(_0x7b5329,_0xf6b2ca){var _0x129e51=_0x257a,_0x545ad0=Cesium$7[_0x129e51(0x13b)][_0x129e51(0x182)](Math[_0x129e51(0x13e)](_0xf6b2ca,_0x7b5329));return _0x545ad0+=_0x545ad0<0x0?0x168:0x0,_0x545ad0;}var WindUtil={'__proto__':null,'getU':getU,'getV':getV,'getSpeed':getSpeed,'getDirection':getDirection};function ownKeys(_0x4644cc,_0x1ec34c){var _0x9901c4=_0x257a,_0x361acf=Object[_0x9901c4(0x16d)](_0x4644cc);if(Object[_0x9901c4(0x1bd)]){var _0x48cd6b=Object[_0x9901c4(0x1bd)](_0x4644cc);_0x1ec34c&&(_0x48cd6b=_0x48cd6b[_0x9901c4(0x17a)](function(_0x5f0cf2){var _0x3df02d=_0x9901c4;return Object[_0x3df02d(0x1cf)](_0x4644cc,_0x5f0cf2)[_0x3df02d(0x1a0)];})),_0x361acf['push'][_0x9901c4(0x189)](_0x361acf,_0x48cd6b);}return _0x361acf;}function _objectSpread2(_0x1d1302){var _0x1fc613=_0x257a;for(var _0x455b01=0x1;_0x455b01<arguments['length'];_0x455b01++){var _0x2f5aac=null!=arguments[_0x455b01]?arguments[_0x455b01]:{};_0x455b01%0x2?ownKeys(Object(_0x2f5aac),!0x0)[_0x1fc613(0x1f1)](function(_0x522bba){_defineProperty(_0x1d1302,_0x522bba,_0x2f5aac[_0x522bba]);}):Object[_0x1fc613(0xd7)]?Object[_0x1fc613(0x10a)](_0x1d1302,Object[_0x1fc613(0xd7)](_0x2f5aac)):ownKeys(Object(_0x2f5aac))[_0x1fc613(0x1f1)](function(_0xc929e9){var _0x4d23dd=_0x1fc613;Object[_0x4d23dd(0x1bf)](_0x1d1302,_0xc929e9,Object['getOwnPropertyDescriptor'](_0x2f5aac,_0xc929e9));});}return _0x1d1302;}function _classCallCheck(_0x29f20b,_0x10240d){var _0x186f0e=_0x257a;if(!(_0x29f20b instanceof _0x10240d))throw new TypeError(_0x186f0e(0x20c));}function _defineProperties(_0x4cd9b9,_0x3d8a20){var _0x265ac7=_0x257a;for(var _0x221224=0x0;_0x221224<_0x3d8a20[_0x265ac7(0xde)];_0x221224++){var _0x17b2b7=_0x3d8a20[_0x221224];_0x17b2b7[_0x265ac7(0x1a0)]=_0x17b2b7[_0x265ac7(0x1a0)]||![],_0x17b2b7[_0x265ac7(0x186)]=!![];if(_0x265ac7(0xd9)in _0x17b2b7)_0x17b2b7[_0x265ac7(0x21e)]=!![];Object[_0x265ac7(0x1bf)](_0x4cd9b9,_0x17b2b7[_0x265ac7(0x1c1)],_0x17b2b7);}}function _createClass(_0x307613,_0x302167,_0xbbd56){var _0x4f198b=_0x257a;if(_0x302167)_defineProperties(_0x307613[_0x4f198b(0x17b)],_0x302167);if(_0xbbd56)_defineProperties(_0x307613,_0xbbd56);return Object[_0x4f198b(0x1bf)](_0x307613,_0x4f198b(0x17b),{'writable':![]}),_0x307613;}function _defineProperty(_0x41fe8e,_0x26eb53,_0x552e2e){var _0x5b15b4=_0x257a;return _0x26eb53 in _0x41fe8e?Object[_0x5b15b4(0x1bf)](_0x41fe8e,_0x26eb53,{'value':_0x552e2e,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x41fe8e[_0x26eb53]=_0x552e2e,_0x41fe8e;}function _inherits(_0x166155,_0x5806e2){var _0x32935d=_0x257a;if(typeof _0x5806e2!==_0x32935d(0xec)&&_0x5806e2!==null)throw new TypeError(_0x32935d(0x11b));_0x166155['prototype']=Object[_0x32935d(0xbe)](_0x5806e2&&_0x5806e2[_0x32935d(0x17b)],{'constructor':{'value':_0x166155,'writable':!![],'configurable':!![]}}),Object[_0x32935d(0x1bf)](_0x166155,'prototype',{'writable':![]});if(_0x5806e2)_setPrototypeOf(_0x166155,_0x5806e2);}function _getPrototypeOf(_0x1b0bf7){var _0x5ca877=_0x257a;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x5ca877(0x176)][_0x5ca877(0x179)]():function _0x180c6b(_0x3223c7){var _0x4ea49e=_0x5ca877;return _0x3223c7[_0x4ea49e(0xba)]||Object[_0x4ea49e(0x176)](_0x3223c7);},_getPrototypeOf(_0x1b0bf7);}function _0x3444(){var _0x3765da=['particlesNumber','redraw','bind','filter','prototype','currentTrailsDepth','currentTrailsColor','show','FLOAT','strokeStyle','register','toDegrees','lineWidth','WMS_URL','removeAll','configurable','Rectangle','DISABLE_GL_POSITION_LOG_DEPTH','apply','scene','EllipsoidalOccluder','_maxAge','call','Cesium','mouse_move','bindEvent','off','clientHeight','GeometryAttributes','cancelAnimationFrame','_drawLines','EventType','__esModule','_map','resize','fixedHeight','BoundingSphere','mouseHidden','BufferUsage','lonRange','worker','enumerable','setPrototypeOf','rawRenderState','fromDegrees','_onMap_preRenderEvent','segments','pointer-events','ShaderProgram','lon','isArray','wheel','_removedHook','globalCompositeOperation','segmentsDepth','PrimitiveType','nextParticlesPosition','canvasHeight','levmax','getColorTexture','postProcessingPosition','removeChild','2314320FLguQg','all','drawingBufferHeight','ComputeCommand','cols','mouseDown','ComponentDatatype','tlat','getOwnPropertySymbols','removeEventListener','defineProperty','TextureMinificationFilter','key','object','setOptions','Geometry','currentParticlesSpeed','100%','_calcUV','container','pixelSize','createRenderingFramebuffers','Cartesian3','arrayBufferView','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','postProcessingSpeed','getOwnPropertyDescriptor','ellipsoid','createCommand','355324oQFCub','STATIC_DRAW','pointerEvents','particleSystem','2646931MruuVY','undefined','toRadians','layer','particlesTextures','_pointerEvents','none','latRange','RGBA','viewport','maxAge','1DVeSLH','absolute','WindUtil','canvasResize','PI_OVER_THREE','THREE_PI_OVER_TWO','_randomParticle','_createCanvas','rows','context','CanvasWindField','fromCssColorString','VertexArray','tlng','getDefaultRenderState','blue','forEach','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','OPAQUE','min','Appearance','ymin','createFramebuffer','depthTest','SCENE3D','depthTexture','requestAnimationFrame','clear','vdata','visibility','Pass','particles','depthMask','options','setGeometry','umax','colors','nextTrails','mod','1056468ygMEPa','currentParticlesPosition','wind','refreshTimer','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','320130PkGNbZ','update','framebuffers','_showHook','globe','globalAlpha','canvasWindy','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','autoClear','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','canvasContext','PixelDatatype','once','getUVByXY','visible','PrimitiveCollection','init','writable','PixelFormat','constructor','_setOptionsHook','_onMouseDownEvent','destroyObject','createRawRenderState','updatePosition','GeometryAttribute','string','Object','_onMouseMoveEvent','addEventListener','createTexture','refreshParticles','Color','stroke','remove','particlesComputing','createComputingPrimitives','sqrt','getPixelSize','UNSIGNED_BYTE','color','setAttribute','appendChild','LayerUtil','preExecute','TextureMagnificationFilter','0px','applyViewerParameters','unbindEvent','Compute','viewRectangleToLonLatRange','random','807xJUVGi','IDENTITY','_data','_tomap','particlesTextureSize','_bilinearInterpolation','243DHvPqY','WindLayer','__proto__','dimensions','moveTo','randomBetween','create','attributeLocations','push','setData','currentTrails','postMessage','north','drawingBufferWidth','1068255bzQHpM','createRenderingPrimitives','height','destroyParticlesTextures','updateViewerParameters','clearFramebuffers','animateFrame','from','uniformMap','createWindTextures','getOptions','initWorker','windTextures','xmin','_updateIng2','_addedHook','_calc_speedRate','getOwnPropertyDescriptors','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','value','east','reverseY','ClearCommand','SceneMode','length','primitives','addPrimitives','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','Sampler','fromCache','_updateIng','getUVByPoint','ZERO','array','construct','getParticles','#ffffff','createSegmentsGeometry','function','destroy','camera','_onMouseUpEvent','canvasWind','getWind','isInExtent','globeLayer','shaderProgram','Set','RGB','windData','getRandomLatLng','speedFactor','preRender','toGridXY','particlesRendering','lev','frameRate','lat','screen','mouseMove','_canrefresh','umin','colorTable','nextTrailsDepth','commandToExecute','positionWC','defined','Cartesian2','defineProperties','onmessage','hidden','PI_OVER_TWO','green','data','canvasWidth','mode','segmentsColor','setDate','zIndex','clampToLatitudeRange','reverse','speedRate','lng','Draw','isDestroyed','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','NEAREST','iterator','outputTexture','canrefresh','style','commandList','TWO_PI','TRIANGLES','age','width','mouseUp','getContext','add','ymax','ceil','_mountedHook','vmax','particlesWind','sham','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','vertexArray','grid','canvas','@@iterator','abs','ShaderSource','LINEAR','Arguments','blending','clearCommand','getFullscreenQuad','Math','test','RenderState','atan2','windField','execute','now','3988sKyYLd','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','xmax','cos','createElement','CanvasWindLayer','clientWidth','viewerParameters','trails','framebuffer','udata','nextParticlesSpeed','maxParticles','geometry','dropRateBump','frameTime','sin','_speedRate','globeBoundingSphere','pow','fromGeometry','textures','computeViewRectangle','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','_onMapWhellEvent','Matrix4','fragmentShaderSource','SceneTransforms','primitiveType','vertexShaderSource','commandType','floor','dropRate','max','randomizeParticles','lighter','log','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','BaseLayer','mouse_down','valueOf','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','createRenderingTextures','keys','DEPTH_COMPONENT','default','class','round','DrawCommand','createParticlesTextures','getExtent','nextTrailsColor','getPrototypeOf'];_0x3444=function(){return _0x3765da;};return _0x3444();}function _setPrototypeOf(_0x5ed7b2,_0x39724e){var _0x43d83d=_0x257a;return _setPrototypeOf=Object[_0x43d83d(0x1a1)]?Object[_0x43d83d(0x1a1)]['bind']():function _0x34c24e(_0x4eb9ce,_0x26f43d){var _0x4ed374=_0x43d83d;return _0x4eb9ce[_0x4ed374(0xba)]=_0x26f43d,_0x4eb9ce;},_setPrototypeOf(_0x5ed7b2,_0x39724e);}function _isNativeReflectConstruct(){var _0x25bb9e=_0x257a;if(typeof Reflect===_0x25bb9e(0x1d7)||!Reflect[_0x25bb9e(0xe8)])return![];if(Reflect[_0x25bb9e(0xe8)][_0x25bb9e(0x12e)])return![];if(typeof Proxy==='function')return!![];try{return Boolean[_0x25bb9e(0x17b)][_0x25bb9e(0x16a)]['call'](Reflect[_0x25bb9e(0xe8)](Boolean,[],function(){})),!![];}catch(_0x3b2c7d){return![];}}function _assertThisInitialized(_0x3d7df2){var _0x240f9e=_0x257a;if(_0x3d7df2===void 0x0)throw new ReferenceError(_0x240f9e(0xe1));return _0x3d7df2;}function _possibleConstructorReturn(_0x458e30,_0x306daf){var _0x143a63=_0x257a;if(_0x306daf&&(typeof _0x306daf===_0x143a63(0x1c2)||typeof _0x306daf===_0x143a63(0xec)))return _0x306daf;else{if(_0x306daf!==void 0x0)throw new TypeError(_0x143a63(0x214));}return _assertThisInitialized(_0x458e30);}function _createSuper(_0x35f101){var _0x200304=_isNativeReflectConstruct();return function _0x2335fd(){var _0x300c1d=_0x257a,_0x2c7580=_getPrototypeOf(_0x35f101),_0x2dd969;if(_0x200304){var _0x542e2c=_getPrototypeOf(this)[_0x300c1d(0x220)];_0x2dd969=Reflect[_0x300c1d(0xe8)](_0x2c7580,arguments,_0x542e2c);}else _0x2dd969=_0x2c7580[_0x300c1d(0x189)](this,arguments);return _possibleConstructorReturn(this,_0x2dd969);};}function _toConsumableArray(_0x420ab1){return _arrayWithoutHoles(_0x420ab1)||_iterableToArray(_0x420ab1)||_unsupportedIterableToArray(_0x420ab1)||_nonIterableSpread();}function _arrayWithoutHoles(_0x5f1a53){var _0xd5cb11=_0x257a;if(Array[_0xd5cb11(0x1a9)](_0x5f1a53))return _arrayLikeToArray(_0x5f1a53);}function _iterableToArray(_0x122aa5){var _0x13123d=_0x257a;if(typeof Symbol!=='undefined'&&_0x122aa5[Symbol[_0x13123d(0x11d)]]!=null||_0x122aa5[_0x13123d(0x133)]!=null)return Array['from'](_0x122aa5);}function _unsupportedIterableToArray(_0x4d88eb,_0x3ab520){var _0x79e582=_0x257a;if(!_0x4d88eb)return;if(typeof _0x4d88eb===_0x79e582(0x227))return _arrayLikeToArray(_0x4d88eb,_0x3ab520);var _0x5e4ea5=Object[_0x79e582(0x17b)]['toString'][_0x79e582(0x18d)](_0x4d88eb)['slice'](0x8,-0x1);if(_0x5e4ea5===_0x79e582(0x228)&&_0x4d88eb[_0x79e582(0x220)])_0x5e4ea5=_0x4d88eb['constructor']['name'];if(_0x5e4ea5==='Map'||_0x5e4ea5===_0x79e582(0xf5))return Array[_0x79e582(0xcd)](_0x4d88eb);if(_0x5e4ea5===_0x79e582(0x137)||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[_0x79e582(0x13c)](_0x5e4ea5))return _arrayLikeToArray(_0x4d88eb,_0x3ab520);}function _arrayLikeToArray(_0x493980,_0x5b3321){var _0x123efb=_0x257a;if(_0x5b3321==null||_0x5b3321>_0x493980[_0x123efb(0xde)])_0x5b3321=_0x493980[_0x123efb(0xde)];for(var _0x22d8c5=0x0,_0x10170c=new Array(_0x5b3321);_0x22d8c5<_0x5b3321;_0x22d8c5++)_0x10170c[_0x22d8c5]=_0x493980[_0x22d8c5];return _0x10170c;}function _nonIterableSpread(){throw new TypeError('Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.');}var Cesium$6=mars3d__namespace[_0x2c1a02(0x18e)],CustomPrimitive=(function(){var _0x5a66e1=_0x2c1a02;function _0x77836e(_0x4f0b24){var _0x25b14a=_0x257a,_0x46bc1b;_classCallCheck(this,_0x77836e),this[_0x25b14a(0x160)]=_0x4f0b24[_0x25b14a(0x160)],this[_0x25b14a(0x14f)]=_0x4f0b24[_0x25b14a(0x14f)],this[_0x25b14a(0xbf)]=_0x4f0b24['attributeLocations'],this[_0x25b14a(0x15e)]=_0x4f0b24[_0x25b14a(0x15e)],this['uniformMap']=_0x4f0b24[_0x25b14a(0xce)],this[_0x25b14a(0x15f)]=_0x4f0b24[_0x25b14a(0x15f)],this[_0x25b14a(0x15c)]=_0x4f0b24[_0x25b14a(0x15c)],this['rawRenderState']=_0x4f0b24[_0x25b14a(0x1a2)],this[_0x25b14a(0x14b)]=_0x4f0b24['framebuffer'],this[_0x25b14a(0x11e)]=_0x4f0b24[_0x25b14a(0x11e)],this[_0x25b14a(0x215)]=(_0x46bc1b=_0x4f0b24[_0x25b14a(0x215)])!==null&&_0x46bc1b!==void 0x0?_0x46bc1b:![],this[_0x25b14a(0x239)]=_0x4f0b24[_0x25b14a(0x239)],this['show']=!![],this[_0x25b14a(0x106)]=undefined,this[_0x25b14a(0x139)]=undefined,this[_0x25b14a(0x215)]&&(this[_0x25b14a(0x139)]=new Cesium$6[(_0x25b14a(0xdc))]({'color':new Cesium$6[(_0x25b14a(0x22d))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x25b14a(0x14b)],'pass':Cesium$6[_0x25b14a(0x1ff)]['OPAQUE']}));}return _createClass(_0x77836e,[{'key':_0x5a66e1(0x1d1),'value':function _0x4606c5(_0x22dd65){var _0x2ea967=_0x5a66e1;switch(this['commandType']){case _0x2ea967(0x119):{var _0x48ee90=Cesium$6[_0x2ea967(0x1ed)][_0x2ea967(0x156)]({'context':_0x22dd65,'geometry':this[_0x2ea967(0x14f)],'attributeLocations':this[_0x2ea967(0xbf)],'bufferUsage':Cesium$6['BufferUsage'][_0x2ea967(0x1d3)]}),_0xd959b5=Cesium$6[_0x2ea967(0x1a7)][_0x2ea967(0xe3)]({'context':_0x22dd65,'attributeLocations':this[_0x2ea967(0xbf)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x2ea967(0x15c)]}),_0x36d40e=Cesium$6[_0x2ea967(0x13d)][_0x2ea967(0xe3)](this[_0x2ea967(0x1a2)]);return new Cesium$6[(_0x2ea967(0x172))]({'owner':this,'vertexArray':_0x48ee90,'primitiveType':this['primitiveType'],'uniformMap':this[_0x2ea967(0xce)],'modelMatrix':Cesium$6[_0x2ea967(0x15b)][_0x2ea967(0xb3)],'shaderProgram':_0xd959b5,'framebuffer':this[_0x2ea967(0x14b)],'renderState':_0x36d40e,'pass':Cesium$6[_0x2ea967(0x1ff)][_0x2ea967(0x1f3)]});}case _0x2ea967(0x23e):{return new Cesium$6[(_0x2ea967(0x1b8))]({'owner':this,'fragmentShaderSource':this[_0x2ea967(0x15c)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x2ea967(0x11e)],'persists':!![]});}}}},{'key':_0x5a66e1(0x203),'value':function _0x335ea9(_0x43968e,_0x5c346a){var _0x199155=_0x5a66e1;this[_0x199155(0x14f)]=_0x5c346a;var _0x58abd0=Cesium$6[_0x199155(0x1ed)][_0x199155(0x156)]({'context':_0x43968e,'geometry':this[_0x199155(0x14f)],'attributeLocations':this[_0x199155(0xbf)],'bufferUsage':Cesium$6['BufferUsage'][_0x199155(0x1d3)]});this[_0x199155(0x106)][_0x199155(0x130)]=_0x58abd0;}},{'key':_0x5a66e1(0x20e),'value':function _0x484e15(_0x3bbaf7){var _0x51b503=_0x5a66e1;if(!this[_0x51b503(0x17e)])return;if(_0x3bbaf7[_0x51b503(0x111)]!==Cesium$6[_0x51b503(0xdd)][_0x51b503(0x1f9)])return;!Cesium$6[_0x51b503(0x108)](this[_0x51b503(0x106)])&&(this['commandToExecute']=this[_0x51b503(0x1d1)](_0x3bbaf7[_0x51b503(0x1ea)])),Cesium$6[_0x51b503(0x108)](this[_0x51b503(0x239)])&&this[_0x51b503(0x239)](),Cesium$6[_0x51b503(0x108)](this['clearCommand'])&&_0x3bbaf7[_0x51b503(0x121)][_0x51b503(0xc0)](this[_0x51b503(0x139)]),_0x3bbaf7[_0x51b503(0x121)][_0x51b503(0xc0)](this[_0x51b503(0x106)]);}},{'key':_0x5a66e1(0x11a),'value':function _0x2be5fa(){return![];}},{'key':_0x5a66e1(0xed),'value':function _0x7546a3(){var _0x3848ef=_0x5a66e1;return Cesium$6[_0x3848ef(0x108)](this[_0x3848ef(0x106)])&&(this[_0x3848ef(0x106)]['shaderProgram']=this[_0x3848ef(0x106)][_0x3848ef(0xf4)]&&this[_0x3848ef(0x106)][_0x3848ef(0xf4)][_0x3848ef(0xed)]()),Cesium$6[_0x3848ef(0x223)](this);}}]),_0x77836e;}()),Cesium$5=mars3d__namespace[_0x2c1a02(0x18e)],Util=(function(){var _0x117488=function _0xff272b(){var _0x8550d0=_0x257a,_0x5ab310=new Cesium$5[(_0x8550d0(0x1c4))]({'attributes':new Cesium$5[(_0x8550d0(0x193))]({'position':new Cesium$5[(_0x8550d0(0x226))]({'componentDatatype':Cesium$5[_0x8550d0(0x1bb)]['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x8550d0(0x1bb)][_0x8550d0(0x17f)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});return _0x5ab310;},_0x6cc320=function _0x2282ff(_0x1084b5,_0x488c13){var _0x25d0b9=_0x257a;if(Cesium$5[_0x25d0b9(0x108)](_0x488c13)){var _0xcb8037={};_0xcb8037[_0x25d0b9(0x1cc)]=_0x488c13,_0x1084b5['source']=_0xcb8037;}var _0x39f635=new Cesium$5['Texture'](_0x1084b5);return _0x39f635;},_0x26b41c=function _0x55a28a(_0x1f35a4,_0x3443c8,_0x322d22){var _0x2f2879=new Cesium$5['Framebuffer']({'context':_0x1f35a4,'colorTextures':[_0x3443c8],'depthTexture':_0x322d22});return _0x2f2879;},_0x453351=function _0x3a5260(_0x417fb6){var _0x4842a2=_0x257a,_0x2eff0e=!![],_0x53b200=![],_0x2a329a={'viewport':_0x417fb6[_0x4842a2(0x1df)],'depthTest':_0x417fb6[_0x4842a2(0x1f8)],'depthMask':_0x417fb6[_0x4842a2(0x201)],'blending':_0x417fb6[_0x4842a2(0x138)]},_0x3d964d=Cesium$5[_0x4842a2(0x1f5)][_0x4842a2(0x1ef)](_0x2eff0e,_0x53b200,_0x2a329a);return _0x3d964d;},_0x445f7e=function _0x29a7ea(_0x1702a7){var _0x3abf63=_0x257a,_0x45fb06={},_0x3bcb49=Cesium$5['Math'][_0x3abf63(0x207)](_0x1702a7['west'],Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x122)]),_0x3315fb=Cesium$5['Math']['mod'](_0x1702a7[_0x3abf63(0xda)],Cesium$5['Math'][_0x3abf63(0x122)]),_0x2f5b57=_0x1702a7[_0x3abf63(0x125)],_0x150bda,_0x2b267a;_0x2f5b57>Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x1e6)]?(_0x150bda=0x0,_0x2b267a=Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x122)]):_0x3315fb-_0x3bcb49<_0x2f5b57?(_0x150bda=_0x3bcb49,_0x2b267a=_0x3bcb49+_0x2f5b57):(_0x150bda=_0x3bcb49,_0x2b267a=_0x3315fb);_0x45fb06['lon']={'min':Cesium$5['Math'][_0x3abf63(0x182)](_0x150bda),'max':Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x182)](_0x2b267a)};var _0x5e8e9f=_0x1702a7['south'],_0x253eae=_0x1702a7[_0x3abf63(0xc4)],_0x4a2361=_0x1702a7[_0x3abf63(0xc8)],_0x1d3a0d=_0x4a2361>Cesium$5[_0x3abf63(0x13b)]['PI']/0xc?_0x4a2361/0x2:0x0,_0x518966=Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x115)](_0x5e8e9f-_0x1d3a0d),_0x55b17e=Cesium$5[_0x3abf63(0x13b)]['clampToLatitudeRange'](_0x253eae+_0x1d3a0d);return _0x518966<-Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x1e5)]&&(_0x518966=-Cesium$5['Math']['PI_OVER_TWO']),_0x55b17e>Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x1e5)]&&(_0x55b17e=Cesium$5['Math'][_0x3abf63(0x10d)]),_0x45fb06[_0x3abf63(0xff)]={'min':Cesium$5['Math'][_0x3abf63(0x182)](_0x518966),'max':Cesium$5[_0x3abf63(0x13b)][_0x3abf63(0x182)](_0x55b17e)},_0x45fb06;};return{'getFullscreenQuad':_0x117488,'createTexture':_0x6cc320,'createFramebuffer':_0x26b41c,'createRawRenderState':_0x453351,'viewRectangleToLonLatRange':_0x445f7e};}()),segmentDraw_vert=_0x2c1a02(0x1cd),segmentDraw_frag='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}',fullscreen_vert=_0x2c1a02(0x159),trailDraw_frag='uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}',screenDraw_frag=_0x2c1a02(0x1f2),Cesium$4=mars3d__namespace[_0x2c1a02(0x18e)],ParticlesRendering=(function(){var _0x5b9fcd=_0x2c1a02;function _0x1cff9e(_0x490fd0,_0x4a9430,_0x235c39,_0x5a8265,_0x5cb494){var _0x23cec7=_0x257a;_classCallCheck(this,_0x1cff9e),this[_0x23cec7(0x16c)](_0x490fd0,_0x4a9430,_0x235c39[_0x23cec7(0x205)]),this['createRenderingFramebuffers'](_0x490fd0),this[_0x23cec7(0xc7)](_0x490fd0,_0x235c39,_0x5a8265,_0x5cb494);}return _createClass(_0x1cff9e,[{'key':'createRenderingTextures','value':function _0x204736(_0x27ccad,_0x1e1dda,_0x30630b){var _0x49ef0f=_0x257a,_0x109812={'context':_0x27ccad,'width':_0x27ccad[_0x49ef0f(0xc5)],'height':_0x27ccad['drawingBufferHeight'],'pixelFormat':Cesium$4[_0x49ef0f(0x21f)][_0x49ef0f(0x1de)],'pixelDatatype':Cesium$4['PixelDatatype'][_0x49ef0f(0x234)]},_0x141ed9={'context':_0x27ccad,'width':_0x27ccad[_0x49ef0f(0xc5)],'height':_0x27ccad[_0x49ef0f(0x1b7)],'pixelFormat':Cesium$4[_0x49ef0f(0x21f)][_0x49ef0f(0x16e)],'pixelDatatype':Cesium$4[_0x49ef0f(0x218)]['UNSIGNED_INT']},_0x572eec=_0x30630b[_0x49ef0f(0xde)],_0x35dd09=new Float32Array(_0x572eec*0x3);for(var _0x5353fc=0x0;_0x5353fc<_0x572eec;_0x5353fc++){var _0x8ac1b5=Cesium$4[_0x49ef0f(0x22d)][_0x49ef0f(0x1ec)](_0x30630b[_0x5353fc]);_0x35dd09[0x3*_0x5353fc]=_0x8ac1b5['red'],_0x35dd09[0x3*_0x5353fc+0x1]=_0x8ac1b5[_0x49ef0f(0x10e)],_0x35dd09[0x3*_0x5353fc+0x2]=_0x8ac1b5[_0x49ef0f(0x1f0)];}var _0x330c4e={'context':_0x27ccad,'width':_0x572eec,'height':0x1,'pixelFormat':Cesium$4['PixelFormat'][_0x49ef0f(0xf6)],'pixelDatatype':Cesium$4[_0x49ef0f(0x218)][_0x49ef0f(0x17f)],'sampler':new Cesium$4[(_0x49ef0f(0xe2))]({'minificationFilter':Cesium$4['TextureMinificationFilter'][_0x49ef0f(0x136)],'magnificationFilter':Cesium$4[_0x49ef0f(0x23a)]['LINEAR']})};this[_0x49ef0f(0x157)]={'segmentsColor':Util[_0x49ef0f(0x22b)](_0x109812),'segmentsDepth':Util['createTexture'](_0x141ed9),'currentTrailsColor':Util['createTexture'](_0x109812),'currentTrailsDepth':Util[_0x49ef0f(0x22b)](_0x141ed9),'nextTrailsColor':Util[_0x49ef0f(0x22b)](_0x109812),'nextTrailsDepth':Util[_0x49ef0f(0x22b)](_0x141ed9),'colorTable':Util[_0x49ef0f(0x22b)](_0x330c4e,_0x35dd09)};}},{'key':_0x5b9fcd(0x1ca),'value':function _0x482792(_0x5c5f05){var _0x3f5a43=_0x5b9fcd;this[_0x3f5a43(0x20f)]={'segments':Util[_0x3f5a43(0x1f7)](_0x5c5f05,this['textures'][_0x3f5a43(0x112)],this['textures'][_0x3f5a43(0x1ad)]),'currentTrails':Util['createFramebuffer'](_0x5c5f05,this['textures'][_0x3f5a43(0x17d)],this[_0x3f5a43(0x157)][_0x3f5a43(0x17c)]),'nextTrails':Util[_0x3f5a43(0x1f7)](_0x5c5f05,this[_0x3f5a43(0x157)][_0x3f5a43(0x175)],this[_0x3f5a43(0x157)][_0x3f5a43(0x105)])};}},{'key':_0x5b9fcd(0xeb),'value':function _0x3a3395(_0x5734da){var _0x1d38c7=_0x5b9fcd,_0x19e368=0x4,_0x339875=[];for(var _0x2b57e3=0x0;_0x2b57e3<_0x5734da[_0x1d38c7(0xb6)];_0x2b57e3++){for(var _0x48e3cd=0x0;_0x48e3cd<_0x5734da['particlesTextureSize'];_0x48e3cd++){for(var _0x2f21b1=0x0;_0x2f21b1<_0x19e368;_0x2f21b1++){_0x339875['push'](_0x2b57e3/_0x5734da[_0x1d38c7(0xb6)]),_0x339875[_0x1d38c7(0xc0)](_0x48e3cd/_0x5734da[_0x1d38c7(0xb6)]);}}}_0x339875=new Float32Array(_0x339875);var _0x4f6037=[],_0x2825b1=[-0x1,0x1],_0x29ed9f=[-0x1,0x1];for(var _0x3885e1=0x0;_0x3885e1<_0x5734da[_0x1d38c7(0x14e)];_0x3885e1++){for(var _0x2b4fbe=0x0;_0x2b4fbe<_0x19e368/0x2;_0x2b4fbe++){for(var _0x14dd3a=0x0;_0x14dd3a<_0x19e368/0x2;_0x14dd3a++){_0x4f6037[_0x1d38c7(0xc0)](_0x2825b1[_0x2b4fbe]),_0x4f6037[_0x1d38c7(0xc0)](_0x29ed9f[_0x14dd3a]),_0x4f6037[_0x1d38c7(0xc0)](0x0);}}}_0x4f6037=new Float32Array(_0x4f6037);var _0x33485d=0x6*_0x5734da[_0x1d38c7(0x14e)],_0x32a77a=new Uint32Array(_0x33485d);for(var _0x2776f1=0x0,_0x69237b=0x0,_0x29a4e4=0x0;_0x2776f1<_0x5734da[_0x1d38c7(0x14e)];_0x2776f1++){_0x32a77a[_0x69237b++]=_0x29a4e4+0x0,_0x32a77a[_0x69237b++]=_0x29a4e4+0x1,_0x32a77a[_0x69237b++]=_0x29a4e4+0x2,_0x32a77a[_0x69237b++]=_0x29a4e4+0x2,_0x32a77a[_0x69237b++]=_0x29a4e4+0x1,_0x32a77a[_0x69237b++]=_0x29a4e4+0x3,_0x29a4e4+=0x4;}var _0x27e5e7=new Cesium$4['Geometry']({'attributes':new Cesium$4[(_0x1d38c7(0x193))]({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x1d38c7(0x1bb)][_0x1d38c7(0x17f)],'componentsPerAttribute':0x2,'values':_0x339875}),'normal':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x1d38c7(0x1bb)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0x4f6037})}),'indices':_0x32a77a});return _0x27e5e7;}},{'key':_0x5b9fcd(0xc7),'value':function _0x78bde5(_0x9420a6,_0x39b6e5,_0x1cac4c,_0x554795){var _0x552238=_0x5b9fcd,_0x446532=this;this['primitives']={'segments':new CustomPrimitive({'commandType':_0x552238(0x119),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x552238(0xeb)](_0x39b6e5),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function _0x417075(){var _0x167a3d=_0x552238;return _0x554795[_0x167a3d(0x1da)]['currentParticlesPosition'];},'postProcessingPosition':function _0x56f934(){var _0x38df5d=_0x552238;return _0x554795[_0x38df5d(0x1da)]['postProcessingPosition'];},'postProcessingSpeed':function _0x197b0b(){var _0x4f8935=_0x552238;return _0x554795[_0x4f8935(0x1da)]['postProcessingSpeed'];},'colorTable':function _0x307bba(){var _0x3e374a=_0x552238;return _0x446532[_0x3e374a(0x157)][_0x3e374a(0x104)];},'aspect':function _0xa6c4ed(){var _0x50f096=_0x552238;return _0x9420a6[_0x50f096(0xc5)]/_0x9420a6[_0x50f096(0x1b7)];},'pixelSize':function _0x109d9d(){var _0x342f0a=_0x552238;return _0x1cac4c[_0x342f0a(0x1c9)];},'lineWidth':function _0x2def68(){var _0x95e819=_0x552238;return _0x39b6e5[_0x95e819(0x183)];},'particleHeight':function _0x392bf8(){return _0x39b6e5['particleHeight'];}},'vertexShaderSource':new Cesium$4[(_0x552238(0x135))]({'sources':[segmentDraw_vert]}),'fragmentShaderSource':new Cesium$4[(_0x552238(0x135))]({'sources':[segmentDraw_frag]}),'rawRenderState':Util[_0x552238(0x224)]({'viewport':undefined,'depthTest':{'enabled':!![]},'depthMask':!![]}),'framebuffer':this['framebuffers']['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x552238(0x119),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function _0x9b79fe(){var _0x220e66=_0x552238;return _0x446532[_0x220e66(0x157)][_0x220e66(0x112)];},'segmentsDepthTexture':function _0x2190b7(){var _0x343e05=_0x552238;return _0x446532[_0x343e05(0x157)]['segmentsDepth'];},'currentTrailsColor':function _0x34b4cb(){var _0x173d88=_0x552238;return _0x446532[_0x173d88(0x20f)][_0x173d88(0xc2)][_0x173d88(0x1b2)](0x0);},'trailsDepthTexture':function _0x118d72(){var _0x2f7ca8=_0x552238;return _0x446532[_0x2f7ca8(0x20f)][_0x2f7ca8(0xc2)][_0x2f7ca8(0x1fa)];},'fadeOpacity':function _0x4f8a85(){return _0x39b6e5['fadeOpacity'];}},'vertexShaderSource':new Cesium$4[(_0x552238(0x135))]({'defines':[_0x552238(0x188)],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x552238(0x135))]({'defines':[_0x552238(0x216)],'sources':[trailDraw_frag]}),'rawRenderState':Util[_0x552238(0x224)]({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction']['ALWAYS']},'depthMask':!![]}),'framebuffer':this[_0x552238(0x20f)]['nextTrails'],'autoClear':!![],'preExecute':function _0x7514d1(){var _0x569353=_0x552238,_0x165151=_0x446532[_0x569353(0x20f)][_0x569353(0xc2)];_0x446532[_0x569353(0x20f)][_0x569353(0xc2)]=_0x446532['framebuffers']['nextTrails'],_0x446532[_0x569353(0x20f)]['nextTrails']=_0x165151,_0x446532[_0x569353(0xdf)][_0x569353(0x14a)][_0x569353(0x106)]['framebuffer']=_0x446532['framebuffers'][_0x569353(0x206)],_0x446532[_0x569353(0xdf)][_0x569353(0x14a)][_0x569353(0x139)]['framebuffer']=_0x446532[_0x569353(0x20f)]['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':_0x552238(0x119),'attributeLocations':{'position':0x0,'st':0x1},'geometry':Util[_0x552238(0x13a)](),'primitiveType':Cesium$4[_0x552238(0x1ae)][_0x552238(0x123)],'uniformMap':{'trailsColorTexture':function _0x2529eb(){var _0x27b0ed=_0x552238;return _0x446532['framebuffers'][_0x27b0ed(0x206)][_0x27b0ed(0x1b2)](0x0);},'trailsDepthTexture':function _0x2d39a0(){var _0x3fbf3e=_0x552238;return _0x446532[_0x3fbf3e(0x20f)][_0x3fbf3e(0x206)][_0x3fbf3e(0x1fa)];}},'vertexShaderSource':new Cesium$4['ShaderSource']({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[fullscreen_vert]}),'fragmentShaderSource':new Cesium$4[(_0x552238(0x135))]({'defines':[_0x552238(0x216)],'sources':[screenDraw_frag]}),'rawRenderState':Util[_0x552238(0x224)]({'viewport':undefined,'depthTest':{'enabled':![]},'depthMask':!![],'blending':{'enabled':!![]}}),'framebuffer':undefined})};}}]),_0x1cff9e;}()),getWind_frag=_0x2c1a02(0x12f),updateSpeed_frag=_0x2c1a02(0x167),updatePosition_frag=_0x2c1a02(0xd8),postProcessingPosition_frag=_0x2c1a02(0x143),postProcessingSpeed_frag=_0x2c1a02(0x16b),Cesium$3=mars3d__namespace[_0x2c1a02(0x18e)],ParticlesComputing=(function(){var _0x2ab715=_0x2c1a02;function _0x1326e3(_0x5d8c97,_0x473f19,_0x951eb1,_0x1c12d7){var _0x2b8252=_0x257a;_classCallCheck(this,_0x1326e3),this[_0x2b8252(0x10f)]=_0x473f19,this['createWindTextures'](_0x5d8c97,_0x473f19),this[_0x2b8252(0x173)](_0x5d8c97,_0x951eb1,_0x1c12d7),this['createComputingPrimitives'](_0x473f19,_0x951eb1,_0x1c12d7);}return _createClass(_0x1326e3,[{'key':_0x2ab715(0xcf),'value':function _0x3be235(_0x3d41a5,_0x1dbaea){var _0xc8ff80=_0x2ab715,_0x3ec6c3={'context':_0x3d41a5,'width':_0x1dbaea[_0xc8ff80(0xbb)][_0xc8ff80(0x1a8)],'height':_0x1dbaea['dimensions']['lat']*(_0x1dbaea['dimensions'][_0xc8ff80(0xfd)]||0x1),'pixelFormat':Cesium$3[_0xc8ff80(0x21f)]['LUMINANCE'],'pixelDatatype':Cesium$3[_0xc8ff80(0x218)]['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0xc8ff80(0xe2))]({'minificationFilter':Cesium$3[_0xc8ff80(0x1c0)][_0xc8ff80(0x11c)],'magnificationFilter':Cesium$3['TextureMagnificationFilter'][_0xc8ff80(0x11c)]})};this['windTextures']={'U':Util['createTexture'](_0x3ec6c3,_0x1dbaea['U'][_0xc8ff80(0xe7)]),'V':Util[_0xc8ff80(0x22b)](_0x3ec6c3,_0x1dbaea['V']['array'])};}},{'key':'createParticlesTextures','value':function _0x5699f0(_0x1041a7,_0x4923f8,_0x195fcf){var _0x101efb=_0x2ab715,_0xc4514d={'context':_0x1041a7,'width':_0x4923f8[_0x101efb(0xb6)],'height':_0x4923f8[_0x101efb(0xb6)],'pixelFormat':Cesium$3[_0x101efb(0x21f)][_0x101efb(0x1de)],'pixelDatatype':Cesium$3['PixelDatatype'][_0x101efb(0x17f)],'flipY':![],'sampler':new Cesium$3[(_0x101efb(0xe2))]({'minificationFilter':Cesium$3[_0x101efb(0x1c0)][_0x101efb(0x11c)],'magnificationFilter':Cesium$3[_0x101efb(0x23a)][_0x101efb(0x11c)]})},_0x507870=this['randomizeParticles'](_0x4923f8[_0x101efb(0x14e)],_0x195fcf),_0x42e05e=new Float32Array(0x4*_0x4923f8[_0x101efb(0x14e)])['fill'](0x0);this[_0x101efb(0x1da)]={'particlesWind':Util[_0x101efb(0x22b)](_0xc4514d),'currentParticlesPosition':Util[_0x101efb(0x22b)](_0xc4514d,_0x507870),'nextParticlesPosition':Util[_0x101efb(0x22b)](_0xc4514d,_0x507870),'currentParticlesSpeed':Util[_0x101efb(0x22b)](_0xc4514d,_0x42e05e),'nextParticlesSpeed':Util[_0x101efb(0x22b)](_0xc4514d,_0x42e05e),'postProcessingPosition':Util[_0x101efb(0x22b)](_0xc4514d,_0x507870),'postProcessingSpeed':Util[_0x101efb(0x22b)](_0xc4514d,_0x42e05e)};}},{'key':_0x2ab715(0x164),'value':function _0xa428c4(_0x26f2f2,_0x2ea630){var _0x273d6a=_0x2ab715,_0x24be74=new Float32Array(0x4*_0x26f2f2);for(var _0x299e1f=0x0;_0x299e1f<_0x26f2f2;_0x299e1f++){_0x24be74[0x4*_0x299e1f]=Cesium$3[_0x273d6a(0x13b)][_0x273d6a(0xbd)](_0x2ea630['lonRange']['x'],_0x2ea630[_0x273d6a(0x19e)]['y']),_0x24be74[0x4*_0x299e1f+0x1]=Cesium$3[_0x273d6a(0x13b)][_0x273d6a(0xbd)](_0x2ea630[_0x273d6a(0x1dd)]['x'],_0x2ea630['latRange']['y']),_0x24be74[0x4*_0x299e1f+0x2]=Cesium$3[_0x273d6a(0x13b)][_0x273d6a(0xbd)](this[_0x273d6a(0x10f)][_0x273d6a(0xfd)]['min'],this[_0x273d6a(0x10f)][_0x273d6a(0xfd)][_0x273d6a(0x163)]),_0x24be74[0x4*_0x299e1f+0x3]=0x0;}return _0x24be74;}},{'key':'destroyParticlesTextures','value':function _0x5f4628(){var _0x2c5c7b=_0x2ab715,_0x3ed6df=this;Object[_0x2c5c7b(0x16d)](this[_0x2c5c7b(0x1da)])[_0x2c5c7b(0x1f1)](function(_0x1fa82d){var _0x3a0859=_0x2c5c7b;_0x3ed6df['particlesTextures'][_0x1fa82d][_0x3a0859(0xed)]();});}},{'key':_0x2ab715(0x231),'value':function _0x189ffa(_0x1701ef,_0x540e6c,_0x2782a7){var _0x3f13a6=_0x2ab715,_0x5b1017=new Cesium$3[(_0x3f13a6(0x1cb))](_0x1701ef[_0x3f13a6(0xbb)][_0x3f13a6(0x1a8)],_0x1701ef[_0x3f13a6(0xbb)][_0x3f13a6(0xff)],_0x1701ef[_0x3f13a6(0xbb)][_0x3f13a6(0xfd)]),_0x3e0ead=new Cesium$3['Cartesian3'](_0x1701ef[_0x3f13a6(0x1a8)][_0x3f13a6(0x1f4)],_0x1701ef['lat'][_0x3f13a6(0x1f4)],_0x1701ef['lev'][_0x3f13a6(0x1f4)]),_0x23734f=new Cesium$3[(_0x3f13a6(0x1cb))](_0x1701ef[_0x3f13a6(0x1a8)][_0x3f13a6(0x163)],_0x1701ef[_0x3f13a6(0xff)][_0x3f13a6(0x163)],_0x1701ef['lev'][_0x3f13a6(0x163)]),_0x4f8ecc=new Cesium$3[(_0x3f13a6(0x1cb))]((_0x23734f['x']-_0x3e0ead['x'])/(_0x5b1017['x']-0x1),(_0x23734f['y']-_0x3e0ead['y'])/(_0x5b1017['y']-0x1),_0x5b1017['z']>0x1?(_0x23734f['z']-_0x3e0ead['z'])/(_0x5b1017['z']-0x1):0x1),_0x1b84dc=new Cesium$3['Cartesian2'](_0x1701ef['U'][_0x3f13a6(0x1f4)],_0x1701ef['U'][_0x3f13a6(0x163)]),_0x277f64=new Cesium$3[(_0x3f13a6(0x109))](_0x1701ef['V']['min'],_0x1701ef['V'][_0x3f13a6(0x163)]),_0x28d868=this;this['primitives']={'getWind':new CustomPrimitive({'commandType':'Compute','uniformMap':{'U':function _0x5d88aa(){return _0x28d868['windTextures']['U'];},'V':function _0x3b434a(){return _0x28d868['windTextures']['V'];},'currentParticlesPosition':function _0x2d3c3f(){var _0x1da1c8=_0x3f13a6;return _0x28d868[_0x1da1c8(0x1da)][_0x1da1c8(0x209)];},'dimension':function _0x18f0d0(){return _0x5b1017;},'minimum':function _0xdc1540(){return _0x3e0ead;},'maximum':function _0x5743ca(){return _0x23734f;},'interval':function _0x27045e(){return _0x4f8ecc;}},'fragmentShaderSource':new Cesium$3[(_0x3f13a6(0x135))]({'sources':[getWind_frag]}),'outputTexture':this[_0x3f13a6(0x1da)][_0x3f13a6(0x12d)],'preExecute':function _0x59c1c3(){var _0x5a2709=_0x3f13a6;_0x28d868['primitives'][_0x5a2709(0xf1)][_0x5a2709(0x106)][_0x5a2709(0x11e)]=_0x28d868[_0x5a2709(0x1da)][_0x5a2709(0x12d)];}}),'updateSpeed':new CustomPrimitive({'commandType':_0x3f13a6(0x23e),'uniformMap':{'currentParticlesSpeed':function _0xf3809f(){var _0x229eb2=_0x3f13a6;return _0x28d868[_0x229eb2(0x1da)][_0x229eb2(0x1c5)];},'particlesWind':function _0x3ca491(){var _0x43b5eb=_0x3f13a6;return _0x28d868[_0x43b5eb(0x1da)][_0x43b5eb(0x12d)];},'uSpeedRange':function _0x28425a(){return _0x1b84dc;},'vSpeedRange':function _0x5866c2(){return _0x277f64;},'pixelSize':function _0x3bbb03(){var _0x47f73e=_0x3f13a6;return _0x2782a7[_0x47f73e(0x1c9)];},'speedFactor':function _0x12e98c(){var _0x4f2251=_0x3f13a6;return _0x540e6c[_0x4f2251(0xf9)];}},'fragmentShaderSource':new Cesium$3[(_0x3f13a6(0x135))]({'sources':[updateSpeed_frag]}),'outputTexture':this[_0x3f13a6(0x1da)][_0x3f13a6(0x14d)],'preExecute':function _0x282cf4(){var _0x21beb6=_0x3f13a6,_0xe24a75=_0x28d868[_0x21beb6(0x1da)]['currentParticlesSpeed'];_0x28d868[_0x21beb6(0x1da)][_0x21beb6(0x1c5)]=_0x28d868[_0x21beb6(0x1da)][_0x21beb6(0x1ce)],_0x28d868[_0x21beb6(0x1da)]['postProcessingSpeed']=_0xe24a75,_0x28d868[_0x21beb6(0xdf)]['updateSpeed']['commandToExecute'][_0x21beb6(0x11e)]=_0x28d868[_0x21beb6(0x1da)][_0x21beb6(0x14d)];}}),'updatePosition':new CustomPrimitive({'commandType':_0x3f13a6(0x23e),'uniformMap':{'currentParticlesPosition':function _0x21a90d(){return _0x28d868['particlesTextures']['currentParticlesPosition'];},'currentParticlesSpeed':function _0x40591f(){var _0x34fa64=_0x3f13a6;return _0x28d868[_0x34fa64(0x1da)][_0x34fa64(0x1c5)];}},'fragmentShaderSource':new Cesium$3[(_0x3f13a6(0x135))]({'sources':[updatePosition_frag]}),'outputTexture':this['particlesTextures']['nextParticlesPosition'],'preExecute':function _0x4bd3f0(){var _0x361dd1=_0x3f13a6,_0x1b805f=_0x28d868[_0x361dd1(0x1da)][_0x361dd1(0x209)];_0x28d868['particlesTextures']['currentParticlesPosition']=_0x28d868[_0x361dd1(0x1da)]['postProcessingPosition'],_0x28d868['particlesTextures'][_0x361dd1(0x1b3)]=_0x1b805f,_0x28d868[_0x361dd1(0xdf)]['updatePosition'][_0x361dd1(0x106)]['outputTexture']=_0x28d868[_0x361dd1(0x1da)][_0x361dd1(0x1af)];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x3f13a6(0x23e),'uniformMap':{'nextParticlesPosition':function _0x32726e(){var _0xffc797=_0x3f13a6;return _0x28d868[_0xffc797(0x1da)][_0xffc797(0x1af)];},'nextParticlesSpeed':function _0x3fc052(){var _0x522160=_0x3f13a6;return _0x28d868[_0x522160(0x1da)][_0x522160(0x14d)];},'lonRange':function _0x431cfe(){return _0x2782a7['lonRange'];},'latRange':function _0x17e23a(){var _0x385d13=_0x3f13a6;return _0x2782a7[_0x385d13(0x1dd)];},'randomCoefficient':function _0x514e11(){var _0x57baf3=_0x3f13a6,_0x23125e=Math[_0x57baf3(0xb1)]();return _0x23125e;},'dropRate':function _0x82bde1(){var _0x37fb3e=_0x3f13a6;return _0x540e6c[_0x37fb3e(0x162)];},'dropRateBump':function _0x208118(){var _0x11b01a=_0x3f13a6;return _0x540e6c[_0x11b01a(0x150)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[postProcessingPosition_frag]}),'outputTexture':this[_0x3f13a6(0x1da)]['postProcessingPosition'],'preExecute':function _0x50df2d(){var _0x1ed111=_0x3f13a6;_0x28d868[_0x1ed111(0xdf)][_0x1ed111(0x1b3)][_0x1ed111(0x106)]['outputTexture']=_0x28d868[_0x1ed111(0x1da)][_0x1ed111(0x1b3)];}}),'postProcessingSpeed':new CustomPrimitive({'commandType':_0x3f13a6(0x23e),'uniformMap':{'postProcessingPosition':function _0x167889(){var _0x4aa1cf=_0x3f13a6;return _0x28d868['particlesTextures'][_0x4aa1cf(0x1b3)];},'nextParticlesSpeed':function _0x492858(){var _0x9a8f42=_0x3f13a6;return _0x28d868[_0x9a8f42(0x1da)][_0x9a8f42(0x14d)];}},'fragmentShaderSource':new Cesium$3['ShaderSource']({'sources':[postProcessingSpeed_frag]}),'outputTexture':this[_0x3f13a6(0x1da)]['postProcessingSpeed'],'preExecute':function _0xc374bf(){var _0x2178f6=_0x3f13a6;_0x28d868[_0x2178f6(0xdf)][_0x2178f6(0x1ce)][_0x2178f6(0x106)]['outputTexture']=_0x28d868[_0x2178f6(0x1da)]['postProcessingSpeed'];}})};}}]),_0x1326e3;}()),Cesium$2=mars3d__namespace[_0x2c1a02(0x18e)],ParticleSystem=(function(){var _0x2a9a69=_0x2c1a02;function _0x38d503(_0x46802d,_0xb82224,_0x3f3d43,_0x263d8f){var _0xff5cc6=_0x257a;_classCallCheck(this,_0x38d503),this[_0xff5cc6(0x1ea)]=_0x46802d,_0xb82224=_objectSpread2({},_0xb82224);if(_0xb82224[_0xff5cc6(0x14c)]&&_0xb82224['vdata']){var _0x229996,_0x3b80a9,_0x98257f,_0x14b750,_0x158117,_0x377f8f;_0xb82224[_0xff5cc6(0xbb)]={},_0xb82224['dimensions'][_0xff5cc6(0x1a8)]=_0xb82224[_0xff5cc6(0x1b9)],_0xb82224[_0xff5cc6(0xbb)][_0xff5cc6(0xff)]=_0xb82224[_0xff5cc6(0x1e9)],_0xb82224['dimensions'][_0xff5cc6(0xfd)]=_0xb82224['lev']||0x1,_0xb82224['lon']={},_0xb82224['lon']['min']=_0xb82224[_0xff5cc6(0xd3)],_0xb82224[_0xff5cc6(0x1a8)][_0xff5cc6(0x163)]=_0xb82224[_0xff5cc6(0x144)],_0xb82224[_0xff5cc6(0xff)]={},_0xb82224[_0xff5cc6(0xff)][_0xff5cc6(0x1f4)]=_0xb82224[_0xff5cc6(0x1f6)],_0xb82224[_0xff5cc6(0xff)][_0xff5cc6(0x163)]=_0xb82224[_0xff5cc6(0x129)],_0xb82224[_0xff5cc6(0xfd)]={},_0xb82224[_0xff5cc6(0xfd)]['min']=(_0x229996=_0xb82224['levmin'])!==null&&_0x229996!==void 0x0?_0x229996:0x1,_0xb82224['lev'][_0xff5cc6(0x163)]=(_0x3b80a9=_0xb82224[_0xff5cc6(0x1b1)])!==null&&_0x3b80a9!==void 0x0?_0x3b80a9:0x1,_0xb82224['U']={},_0xb82224['U']['array']=new Float32Array(_0xb82224['udata']),_0xb82224['U'][_0xff5cc6(0x1f4)]=(_0x98257f=_0xb82224[_0xff5cc6(0x103)])!==null&&_0x98257f!==void 0x0?_0x98257f:Math[_0xff5cc6(0x1f4)][_0xff5cc6(0x189)](Math,_toConsumableArray(_0xb82224['udata'])),_0xb82224['U'][_0xff5cc6(0x163)]=(_0x14b750=_0xb82224[_0xff5cc6(0x204)])!==null&&_0x14b750!==void 0x0?_0x14b750:Math[_0xff5cc6(0x163)]['apply'](Math,_toConsumableArray(_0xb82224['udata'])),_0xb82224['V']={},_0xb82224['V'][_0xff5cc6(0xe7)]=new Float32Array(_0xb82224[_0xff5cc6(0x1fd)]),_0xb82224['V'][_0xff5cc6(0x1f4)]=(_0x158117=_0xb82224['vmin'])!==null&&_0x158117!==void 0x0?_0x158117:Math[_0xff5cc6(0x1f4)]['apply'](Math,_toConsumableArray(_0xb82224['vdata'])),_0xb82224['V']['max']=(_0x377f8f=_0xb82224[_0xff5cc6(0x12c)])!==null&&_0x377f8f!==void 0x0?_0x377f8f:Math[_0xff5cc6(0x163)]['apply'](Math,_toConsumableArray(_0xb82224['vdata']));}this[_0xff5cc6(0x10f)]=_0xb82224,this[_0xff5cc6(0x202)]=_0x3f3d43,this[_0xff5cc6(0x149)]=_0x263d8f,this['particlesComputing']=new ParticlesComputing(this['context'],this[_0xff5cc6(0x10f)],this['options'],this[_0xff5cc6(0x149)]),this[_0xff5cc6(0xfc)]=new ParticlesRendering(this[_0xff5cc6(0x1ea)],this[_0xff5cc6(0x10f)],this[_0xff5cc6(0x202)],this[_0xff5cc6(0x149)],this['particlesComputing']);}return _createClass(_0x38d503,[{'key':_0x2a9a69(0x1e4),'value':function _0x34ce2a(_0x429091){var _0x4e446a=_0x2a9a69,_0x5632a0=this;this['particlesComputing']['destroyParticlesTextures'](),Object['keys'](this[_0x4e446a(0x230)]['windTextures'])[_0x4e446a(0x1f1)](function(_0x57ba54){_0x5632a0['particlesComputing']['windTextures'][_0x57ba54]['destroy']();}),this[_0x4e446a(0xfc)][_0x4e446a(0x157)][_0x4e446a(0x104)][_0x4e446a(0xed)](),Object[_0x4e446a(0x16d)](this[_0x4e446a(0xfc)][_0x4e446a(0x20f)])[_0x4e446a(0x1f1)](function(_0x242949){var _0x59a86a=_0x4e446a;_0x5632a0[_0x59a86a(0xfc)][_0x59a86a(0x20f)][_0x242949][_0x59a86a(0xed)]();}),this[_0x4e446a(0x1ea)]=_0x429091,this['particlesComputing']=new ParticlesComputing(this[_0x4e446a(0x1ea)],this[_0x4e446a(0x10f)],this['options'],this['viewerParameters']),this[_0x4e446a(0xfc)]=new ParticlesRendering(this['context'],this[_0x4e446a(0x10f)],this[_0x4e446a(0x202)],this['viewerParameters'],this[_0x4e446a(0x230)]);}},{'key':_0x2a9a69(0xcb),'value':function _0x32a544(){var _0x17a68a=_0x2a9a69,_0x396a6b=this,_0x3eaa5d=new Cesium$2[(_0x17a68a(0xdc))]({'color':new Cesium$2[(_0x17a68a(0x22d))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2[_0x17a68a(0x1ff)][_0x17a68a(0x1f3)]});Object[_0x17a68a(0x16d)](this['particlesRendering'][_0x17a68a(0x20f)])[_0x17a68a(0x1f1)](function(_0x247a58){var _0x49f749=_0x17a68a;_0x3eaa5d[_0x49f749(0x14b)]=_0x396a6b[_0x49f749(0xfc)]['framebuffers'][_0x247a58],_0x3eaa5d[_0x49f749(0x140)](_0x396a6b[_0x49f749(0x1ea)]);});}},{'key':'refreshParticles','value':function _0x43e0ef(_0x5916b2){var _0x188b8d=_0x2a9a69;this[_0x188b8d(0xcb)](),this[_0x188b8d(0x230)][_0x188b8d(0xc9)](),this[_0x188b8d(0x230)][_0x188b8d(0x173)](this[_0x188b8d(0x1ea)],this[_0x188b8d(0x202)],this[_0x188b8d(0x149)]);if(_0x5916b2){var _0x1b3659=this['particlesRendering']['createSegmentsGeometry'](this['options']);this['particlesRendering']['primitives'][_0x188b8d(0x1a5)][_0x188b8d(0x14f)]=_0x1b3659;var _0x192db3=Cesium$2[_0x188b8d(0x1ed)][_0x188b8d(0x156)]({'context':this[_0x188b8d(0x1ea)],'geometry':_0x1b3659,'attributeLocations':this[_0x188b8d(0xfc)][_0x188b8d(0xdf)]['segments']['attributeLocations'],'bufferUsage':Cesium$2[_0x188b8d(0x19d)][_0x188b8d(0x1d3)]});this[_0x188b8d(0xfc)][_0x188b8d(0xdf)][_0x188b8d(0x1a5)][_0x188b8d(0x106)][_0x188b8d(0x130)]=_0x192db3;}}},{'key':_0x2a9a69(0x1c3),'value':function _0x130e05(_0x16ff5d){var _0x1655d2=_0x2a9a69,_0x12bfa7=this,_0x5758ad=![];this[_0x1655d2(0x202)][_0x1655d2(0x14e)]!==_0x16ff5d['maxParticles']&&(_0x5758ad=!![]),Object[_0x1655d2(0x16d)](_0x16ff5d)[_0x1655d2(0x1f1)](function(_0x3fe638){var _0x4da638=_0x1655d2;_0x12bfa7[_0x4da638(0x202)][_0x3fe638]=_0x16ff5d[_0x3fe638];}),this[_0x1655d2(0x22c)](_0x5758ad);}},{'key':_0x2a9a69(0x23c),'value':function _0x4d0fbf(_0x97eb4c){var _0x37e014=_0x2a9a69,_0xf5703=this;Object['keys'](_0x97eb4c)[_0x37e014(0x1f1)](function(_0x4a575f){var _0x14e7a0=_0x37e014;_0xf5703[_0x14e7a0(0x149)][_0x4a575f]=_0x97eb4c[_0x4a575f];}),this['refreshParticles'](![]);}},{'key':'destroy','value':function _0x4ad1ff(){var _0x267efe=_0x2a9a69,_0x4e63ae=this;clearTimeout(this[_0x267efe(0x11f)]),this[_0x267efe(0x230)][_0x267efe(0xc9)](),Object[_0x267efe(0x16d)](this[_0x267efe(0x230)][_0x267efe(0xd2)])[_0x267efe(0x1f1)](function(_0x2779b4){var _0x25ddbc=_0x267efe;_0x4e63ae[_0x25ddbc(0x230)][_0x25ddbc(0xd2)][_0x2779b4][_0x25ddbc(0xed)]();}),this[_0x267efe(0xfc)]['textures']['colorTable'][_0x267efe(0xed)](),Object[_0x267efe(0x16d)](this[_0x267efe(0xfc)][_0x267efe(0x20f)])['forEach'](function(_0x28a6f1){var _0x1f88a3=_0x267efe;_0x4e63ae[_0x1f88a3(0xfc)][_0x1f88a3(0x20f)][_0x28a6f1]['destroy']();});for(var _0x1fe486 in this){delete this[_0x1fe486];}}}]),_0x38d503;}()),Cesium$1=mars3d__namespace[_0x2c1a02(0x18e)],BaseLayer$1=mars3d__namespace[_0x2c1a02(0x1d9)][_0x2c1a02(0x168)],DEF_OPTIONS={'particlesNumber':0x1000,'fixedHeight':0x0,'fadeOpacity':0.996,'dropRate':0.003,'dropRateBump':0.01,'speedFactor':0.5,'lineWidth':0x2,'colors':['rgb(206,255,255)']},WindLayer=function(_0x1b1578){var _0x4d9fc1=_0x2c1a02;_inherits(_0x303f8e,_0x1b1578);var _0x44ee18=_createSuper(_0x303f8e);function _0x303f8e(){var _0x2a4192=_0x257a,_0x249bea,_0x43219a=arguments[_0x2a4192(0xde)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x303f8e),_0x43219a=_objectSpread2(_objectSpread2({},DEF_OPTIONS),_0x43219a),_0x249bea=_0x44ee18['call'](this,_0x43219a),_0x249bea[_0x2a4192(0x221)](_0x43219a),_0x249bea;}return _createClass(_0x303f8e,[{'key':_0x4d9fc1(0x1d9),'get':function _0x29e5f2(){return this['primitives'];}},{'key':_0x4d9fc1(0x10f),'get':function _0x7dd0e(){var _0x206852=_0x4d9fc1;return this[_0x206852(0xb4)];},'set':function _0x23e566(_0x50b97b){var _0x15fb0f=_0x4d9fc1;this[_0x15fb0f(0xc1)](_0x50b97b);}},{'key':'colors','get':function _0x521f78(){var _0x559c53=_0x4d9fc1;return this[_0x559c53(0x202)][_0x559c53(0x205)];},'set':function _0x536e7a(_0xa96c7){var _0xf21870=_0x4d9fc1;this['options'][_0xf21870(0x205)]=_0xa96c7,this[_0xf21870(0x1d5)]&&this[_0xf21870(0x1d5)][_0xf21870(0x1c3)]({'colors':_0xa96c7}),this['resize']();}},{'key':_0x4d9fc1(0x12b),'value':function _0x3b8931(){}},{'key':'_addedHook','value':function _0x39269f(){var _0x4d19df=_0x4d9fc1;this[_0x4d19df(0x18a)]=this['_map'][_0x4d19df(0x18a)],this[_0x4d19df(0xee)]=this[_0x4d19df(0x198)]['camera'],this['primitives']=new Cesium$1[(_0x4d19df(0x21c))](),this[_0x4d19df(0x198)][_0x4d19df(0x18a)][_0x4d19df(0xdf)]['add'](this[_0x4d19df(0xdf)]),this[_0x4d19df(0x149)]={'lonRange':new Cesium$1[(_0x4d19df(0x109))](),'latRange':new Cesium$1[(_0x4d19df(0x109))](),'pixelSize':0x0},this[_0x4d19df(0x154)]=new Cesium$1[(_0x4d19df(0x19b))](Cesium$1[_0x4d19df(0x1cb)][_0x4d19df(0xe6)],0.99*0x615299),this[_0x4d19df(0xca)](),window['addEventListener']('resize',this[_0x4d19df(0x199)]['bind'](this),![]),this['mouse_down']=![],this[_0x4d19df(0x18f)]=![],this[_0x4d19df(0x198)]['on'](mars3d__namespace[_0x4d19df(0x196)]['wheel'],this[_0x4d19df(0x15a)],this),this[_0x4d19df(0x198)]['on'](mars3d__namespace['EventType'][_0x4d19df(0x1ba)],this[_0x4d19df(0x222)],this),this['_map']['on'](mars3d__namespace[_0x4d19df(0x196)][_0x4d19df(0x126)],this[_0x4d19df(0xef)],this),this['_map']['on'](mars3d__namespace[_0x4d19df(0x196)][_0x4d19df(0x101)],this[_0x4d19df(0x229)],this),this[_0x4d19df(0xb4)]&&this[_0x4d19df(0xc1)](this[_0x4d19df(0xb4)]);}},{'key':_0x4d9fc1(0x1ab),'value':function _0x58489a(){var _0x45dcab=_0x4d9fc1;window[_0x45dcab(0x1be)](_0x45dcab(0x199),this[_0x45dcab(0x199)]),this[_0x45dcab(0x198)]['off'](mars3d__namespace[_0x45dcab(0x196)]['preRender'],this[_0x45dcab(0x1a4)],this),this[_0x45dcab(0x198)][_0x45dcab(0x191)](mars3d__namespace[_0x45dcab(0x196)][_0x45dcab(0x1aa)],this[_0x45dcab(0x15a)],this),this[_0x45dcab(0x198)][_0x45dcab(0x191)](mars3d__namespace[_0x45dcab(0x196)]['mouseDown'],this[_0x45dcab(0x222)],this),this[_0x45dcab(0x198)]['off'](mars3d__namespace[_0x45dcab(0x196)][_0x45dcab(0x126)],this[_0x45dcab(0xef)],this),this[_0x45dcab(0x198)][_0x45dcab(0x191)](mars3d__namespace['EventType'][_0x45dcab(0x101)],this[_0x45dcab(0x229)],this),this[_0x45dcab(0xdf)][_0x45dcab(0x185)](),this[_0x45dcab(0x198)]['scene']['primitives'][_0x45dcab(0x22f)](this[_0x45dcab(0xdf)]);}},{'key':_0x4d9fc1(0x199),'value':function _0x34a8f2(){var _0x419277=_0x4d9fc1;if(!this[_0x419277(0x17e)]||!this[_0x419277(0x1d5)])return;this['primitives']['show']=![],this[_0x419277(0xdf)]['removeAll'](),this[_0x419277(0x198)][_0x419277(0x219)](mars3d__namespace['EventType'][_0x419277(0xfa)],this[_0x419277(0x1a4)],this);}},{'key':_0x4d9fc1(0x1a4),'value':function _0x7daa2d(_0x5d0fc5){var _0x3dac9b=_0x4d9fc1;this[_0x3dac9b(0x1d5)][_0x3dac9b(0x1e4)](this[_0x3dac9b(0x18a)][_0x3dac9b(0x1ea)]),this[_0x3dac9b(0xe0)](),this['primitives'][_0x3dac9b(0x17e)]=!![];}},{'key':'_onMapWhellEvent','value':function _0x2409ac(_0x389220){var _0x4cfc92=_0x4d9fc1,_0x2ff90a=this;clearTimeout(this['refreshTimer']);if(!this[_0x4cfc92(0x17e)]||!this[_0x4cfc92(0x1d5)])return;this['primitives'][_0x4cfc92(0x17e)]=![],this['refreshTimer']=setTimeout(function(){var _0x1261e3=_0x4cfc92;if(!_0x2ff90a[_0x1261e3(0x17e)])return;_0x2ff90a[_0x1261e3(0x178)]();},0xc8);}},{'key':'_onMouseDownEvent','value':function _0x3644bd(_0x5b94b1){var _0x3fb94b=_0x4d9fc1;this[_0x3fb94b(0x169)]=!![];}},{'key':'_onMouseMoveEvent','value':function _0x5e3541(_0x5e86b3){var _0x3e65a9=_0x4d9fc1;if(!this[_0x3e65a9(0x17e)]||!this[_0x3e65a9(0x1d5)])return;this[_0x3e65a9(0x169)]&&(this[_0x3e65a9(0xdf)][_0x3e65a9(0x17e)]=![],this['mouse_move']=!![]);}},{'key':_0x4d9fc1(0xef),'value':function _0x230dd6(_0x53cc4c){var _0x1598df=_0x4d9fc1;if(!this[_0x1598df(0x17e)]||!this[_0x1598df(0x1d5)])return;this[_0x1598df(0x169)]&&this['mouse_move']&&this[_0x1598df(0x178)](),this[_0x1598df(0xdf)][_0x1598df(0x17e)]=!![],this[_0x1598df(0x169)]=![],this[_0x1598df(0x18f)]=![];}},{'key':_0x4d9fc1(0x178),'value':function _0x4843a5(){var _0x1cf4a9=_0x4d9fc1;if(!this[_0x1cf4a9(0x198)]||!this[_0x1cf4a9(0x17e)])return;this[_0x1cf4a9(0xca)](),this[_0x1cf4a9(0x1d5)][_0x1cf4a9(0x23c)](this[_0x1cf4a9(0x149)]),this[_0x1cf4a9(0xdf)][_0x1cf4a9(0x17e)]=!![];}},{'key':_0x4d9fc1(0xc1),'value':function _0x5ce443(_0x62566a){var _0x4fd0c7=_0x4d9fc1;this[_0x4fd0c7(0xb4)]=_0x62566a,this['particleSystem']&&this[_0x4fd0c7(0x1d5)][_0x4fd0c7(0xed)](),this[_0x4fd0c7(0x1d5)]=new ParticleSystem(this[_0x4fd0c7(0x18a)][_0x4fd0c7(0x1ea)],_0x62566a,this['getOptions'](),this[_0x4fd0c7(0x149)]),this[_0x4fd0c7(0xe0)]();}},{'key':_0x4d9fc1(0x221),'value':function _0x27c3bc(_0x39468c,_0x3ff88e){var _0x300d76=_0x4d9fc1;if(_0x39468c)for(var _0x525f52 in _0x39468c){this[_0x525f52]=_0x39468c[_0x525f52];}this[_0x300d76(0x1d5)]&&this['particleSystem']['setOptions'](this[_0x300d76(0xd0)]());}},{'key':_0x4d9fc1(0xd0),'value':function _0x414877(){var _0x36a280=_0x4d9fc1,_0x541455=Math[_0x36a280(0x12a)](Math[_0x36a280(0x232)](this[_0x36a280(0x177)]));return this[_0x36a280(0x177)]=_0x541455*_0x541455,{'particlesTextureSize':_0x541455,'maxParticles':this[_0x36a280(0x177)],'particleHeight':this[_0x36a280(0x19a)],'fadeOpacity':this['fadeOpacity'],'dropRate':this['dropRate'],'dropRateBump':this[_0x36a280(0x150)],'speedFactor':this[_0x36a280(0xf9)],'lineWidth':this[_0x36a280(0x183)],'globeLayer':this[_0x36a280(0xf3)],'WMS_URL':this[_0x36a280(0x184)],'colors':this[_0x36a280(0x205)]};}},{'key':_0x4d9fc1(0xe0),'value':function _0x2f7db5(){var _0x49f495=_0x4d9fc1;this[_0x49f495(0xdf)]['add'](this[_0x49f495(0x1d5)][_0x49f495(0x230)][_0x49f495(0xdf)][_0x49f495(0xf1)]),this[_0x49f495(0xdf)][_0x49f495(0x128)](this[_0x49f495(0x1d5)][_0x49f495(0x230)][_0x49f495(0xdf)]['updateSpeed']),this[_0x49f495(0xdf)]['add'](this['particleSystem']['particlesComputing'][_0x49f495(0xdf)][_0x49f495(0x225)]),this[_0x49f495(0xdf)][_0x49f495(0x128)](this[_0x49f495(0x1d5)]['particlesComputing'][_0x49f495(0xdf)]['postProcessingPosition']),this[_0x49f495(0xdf)]['add'](this[_0x49f495(0x1d5)][_0x49f495(0x230)][_0x49f495(0xdf)][_0x49f495(0x1ce)]),this[_0x49f495(0xdf)]['add'](this[_0x49f495(0x1d5)][_0x49f495(0xfc)][_0x49f495(0xdf)][_0x49f495(0x1a5)]),this[_0x49f495(0xdf)][_0x49f495(0x128)](this[_0x49f495(0x1d5)]['particlesRendering'][_0x49f495(0xdf)]['trails']),this[_0x49f495(0xdf)]['add'](this[_0x49f495(0x1d5)][_0x49f495(0xfc)][_0x49f495(0xdf)][_0x49f495(0x100)]);}},{'key':'updateViewerParameters','value':function _0x12227c(){var _0x1eb616=_0x4d9fc1,_0x52e829=this[_0x1eb616(0xee)][_0x1eb616(0x158)](this[_0x1eb616(0x18a)]['globe']['ellipsoid']);if(!_0x52e829){var _0x15d7c8=this[_0x1eb616(0x198)][_0x1eb616(0x174)]();_0x52e829=Cesium$1[_0x1eb616(0x187)]['fromDegrees'](_0x15d7c8['xmin'],_0x15d7c8[_0x1eb616(0x1f6)],_0x15d7c8[_0x1eb616(0x144)],_0x15d7c8[_0x1eb616(0x129)]);}var _0x317957=Util[_0x1eb616(0x23f)](_0x52e829);this[_0x1eb616(0x149)][_0x1eb616(0x19e)]['x']=_0x317957[_0x1eb616(0x1a8)][_0x1eb616(0x1f4)],this['viewerParameters'][_0x1eb616(0x19e)]['y']=_0x317957['lon'][_0x1eb616(0x163)],this[_0x1eb616(0x149)]['latRange']['x']=_0x317957[_0x1eb616(0xff)][_0x1eb616(0x1f4)],this['viewerParameters'][_0x1eb616(0x1dd)]['y']=_0x317957[_0x1eb616(0xff)][_0x1eb616(0x163)];var _0xdc8959=this[_0x1eb616(0xee)][_0x1eb616(0x233)](this[_0x1eb616(0x154)],this['scene'][_0x1eb616(0xc5)],this[_0x1eb616(0x18a)][_0x1eb616(0x1b7)]);_0xdc8959>0x0&&(this[_0x1eb616(0x149)][_0x1eb616(0x1c9)]=_0xdc8959);}}]),_0x303f8e;}(BaseLayer$1);mars3d__namespace[_0x2c1a02(0x238)][_0x2c1a02(0x181)](_0x2c1a02(0x20a),WindLayer),mars3d__namespace[_0x2c1a02(0x1d9)][_0x2c1a02(0xb9)]=WindLayer;var CanvasParticle=(function(){var _0x1ae076=_0x2c1a02;function _0xcb0f62(){var _0x115c45=_0x257a;_classCallCheck(this,_0xcb0f62),this[_0x115c45(0x118)]=null,this['lat']=null,this[_0x115c45(0x1ee)]=null,this[_0x115c45(0x1bc)]=null,this['age']=null;}return _createClass(_0xcb0f62,[{'key':_0x1ae076(0xed),'value':function _0x2b605a(){for(var _0x390261 in this){delete this[_0x390261];}}}]),_0xcb0f62;}()),CanvasWindField=(function(){var _0x17a1db=_0x2c1a02;function _0x1d4e21(_0x9b5b6f){var _0x2a690c=_0x257a;_classCallCheck(this,_0x1d4e21),this[_0x2a690c(0x1c3)](_0x9b5b6f);}return _createClass(_0x1d4e21,[{'key':'speedRate','get':function _0x5ed4ee(){return this['_speedRate'];},'set':function _0xc206a3(_0x190314){var _0x391a69=_0x257a;this[_0x391a69(0x153)]=(0x64-(_0x190314>0x63?0x63:_0x190314))*0x64,this[_0x391a69(0xd6)]=[(this[_0x391a69(0x144)]-this[_0x391a69(0xd3)])/this[_0x391a69(0x153)],(this[_0x391a69(0x129)]-this[_0x391a69(0x1f6)])/this['_speedRate']];}},{'key':_0x17a1db(0x1e0),'get':function _0x3d302f(){var _0x4fc985=_0x17a1db;return this[_0x4fc985(0x18c)];},'set':function _0xe50dc4(_0x442013){var _0x172bd6=_0x17a1db;this[_0x172bd6(0x18c)]=_0x442013;}},{'key':_0x17a1db(0x1c3),'value':function _0x402c87(_0x14cb95){var _0x45a2d3=_0x17a1db;this[_0x45a2d3(0x202)]=_0x14cb95,this['maxAge']=_0x14cb95[_0x45a2d3(0x1e0)]||0x78,this[_0x45a2d3(0x117)]=_0x14cb95[_0x45a2d3(0x117)]||0x32,this[_0x45a2d3(0x200)]=[];var _0x53cb1c=_0x14cb95[_0x45a2d3(0x177)]||0x1000;for(var _0x5d9e8b=0x0;_0x5d9e8b<_0x53cb1c;_0x5d9e8b++){var _0x113a6a=this['_randomParticle'](new CanvasParticle());this[_0x45a2d3(0x200)][_0x45a2d3(0xc0)](_0x113a6a);}}},{'key':_0x17a1db(0x113),'value':function _0x36c0cb(_0x25e57e){var _0x5e5e59=_0x17a1db;this[_0x5e5e59(0x1e9)]=_0x25e57e[_0x5e5e59(0x1e9)],this['cols']=_0x25e57e[_0x5e5e59(0x1b9)],this['xmin']=_0x25e57e[_0x5e5e59(0xd3)],this[_0x5e5e59(0x144)]=_0x25e57e[_0x5e5e59(0x144)],this[_0x5e5e59(0x1f6)]=_0x25e57e[_0x5e5e59(0x1f6)],this[_0x5e5e59(0x129)]=_0x25e57e[_0x5e5e59(0x129)],this[_0x5e5e59(0x131)]=[];var _0x2557a1=_0x25e57e['udata'],_0x84133e=_0x25e57e[_0x5e5e59(0x1fd)],_0x33d5a6=![];_0x2557a1[_0x5e5e59(0xde)]===this[_0x5e5e59(0x1e9)]&&_0x2557a1[0x0][_0x5e5e59(0xde)]===this[_0x5e5e59(0x1b9)]&&(_0x33d5a6=!![]);var _0x270b8a=0x0,_0x27eebb=null,_0x1579a1=null;for(var _0x1f59f1=0x0;_0x1f59f1<this['rows'];_0x1f59f1++){_0x27eebb=[];for(var _0x22a17c=0x0;_0x22a17c<this[_0x5e5e59(0x1b9)];_0x22a17c++,_0x270b8a++){_0x33d5a6?_0x1579a1=this['_calcUV'](_0x2557a1[_0x1f59f1][_0x22a17c],_0x84133e[_0x1f59f1][_0x22a17c]):_0x1579a1=this[_0x5e5e59(0x1c7)](_0x2557a1[_0x270b8a],_0x84133e[_0x270b8a]),_0x27eebb[_0x5e5e59(0xc0)](_0x1579a1);}this[_0x5e5e59(0x131)][_0x5e5e59(0xc0)](_0x27eebb);}this[_0x5e5e59(0x202)][_0x5e5e59(0xdb)]&&this[_0x5e5e59(0x131)][_0x5e5e59(0x116)]();}},{'key':_0x17a1db(0x1fc),'value':function _0x4c7af9(){var _0x38a292=_0x17a1db;delete this[_0x38a292(0x1e9)],delete this['cols'],delete this[_0x38a292(0xd3)],delete this[_0x38a292(0x144)],delete this['ymin'],delete this[_0x38a292(0x129)],delete this['grid'],delete this[_0x38a292(0x200)];}},{'key':_0x17a1db(0xfb),'value':function _0x4acc0a(_0x324094,_0x381823){var _0x251661=_0x17a1db,_0xb6636c=(_0x324094-this[_0x251661(0xd3)])/(this[_0x251661(0x144)]-this[_0x251661(0xd3)])*(this[_0x251661(0x1b9)]-0x1),_0x2310be=(this[_0x251661(0x129)]-_0x381823)/(this[_0x251661(0x129)]-this['ymin'])*(this[_0x251661(0x1e9)]-0x1);return[_0xb6636c,_0x2310be];}},{'key':'getUVByXY','value':function _0x2115ef(_0x3413d5,_0x2e2a58){var _0x14538b=_0x17a1db;if(_0x3413d5<0x0||_0x3413d5>=this['cols']||_0x2e2a58>=this['rows'])return[0x0,0x0,0x0];var _0x2955b3=Math[_0x14538b(0x161)](_0x3413d5),_0x5728e1=Math[_0x14538b(0x161)](_0x2e2a58);if(_0x2955b3===_0x3413d5&&_0x5728e1===_0x2e2a58)return this[_0x14538b(0x131)][_0x2e2a58][_0x3413d5];var _0x9d7cc3=_0x2955b3+0x1,_0x326e01=_0x5728e1+0x1,_0x2b6481=this['getUVByXY'](_0x2955b3,_0x5728e1),_0x1b6ada=this['getUVByXY'](_0x9d7cc3,_0x5728e1),_0x983d5a=this[_0x14538b(0x21a)](_0x2955b3,_0x326e01),_0x98a6c9=this[_0x14538b(0x21a)](_0x9d7cc3,_0x326e01),_0x417ab2=null;try{_0x417ab2=this['_bilinearInterpolation'](_0x3413d5-_0x2955b3,_0x2e2a58-_0x5728e1,_0x2b6481,_0x1b6ada,_0x983d5a,_0x98a6c9);}catch(_0x1408fb){console[_0x14538b(0x166)](_0x3413d5,_0x2e2a58);}return _0x417ab2;}},{'key':_0x17a1db(0xb7),'value':function _0x4d660e(_0xa65871,_0x102b92,_0x609938,_0x4686e4,_0x5e8d55,_0x23a968){var _0x2dfd6c=0x1-_0xa65871,_0xddb467=0x1-_0x102b92,_0x3b891f=_0x2dfd6c*_0xddb467,_0x3f049f=_0xa65871*_0xddb467,_0x3d6bdd=_0x2dfd6c*_0x102b92,_0x269355=_0xa65871*_0x102b92,_0x3d5f37=_0x609938[0x0]*_0x3b891f+_0x4686e4[0x0]*_0x3f049f+_0x5e8d55[0x0]*_0x3d6bdd+_0x23a968[0x0]*_0x269355,_0x526ee0=_0x609938[0x1]*_0x3b891f+_0x4686e4[0x1]*_0x3f049f+_0x5e8d55[0x1]*_0x3d6bdd+_0x23a968[0x1]*_0x269355;return this['_calcUV'](_0x3d5f37,_0x526ee0);}},{'key':_0x17a1db(0x1c7),'value':function _0x381c5d(_0x78cb1b,_0x543f60){var _0x4e2a1d=_0x17a1db;return[+_0x78cb1b,+_0x543f60,Math[_0x4e2a1d(0x232)](_0x78cb1b*_0x78cb1b+_0x543f60*_0x543f60)];}},{'key':'getUVByPoint','value':function _0x17c485(_0x4320fa,_0x2ce46f){var _0x3bd20e=_0x17a1db;if(!this[_0x3bd20e(0xf2)](_0x4320fa,_0x2ce46f))return null;var _0x432265=this[_0x3bd20e(0xfb)](_0x4320fa,_0x2ce46f),_0x5df489=this[_0x3bd20e(0x21a)](_0x432265[0x0],_0x432265[0x1]);return _0x5df489;}},{'key':_0x17a1db(0xf2),'value':function _0x52fb66(_0x4406ec,_0x261e0f){var _0x342a8e=_0x17a1db;return _0x4406ec>=this[_0x342a8e(0xd3)]&&_0x4406ec<=this[_0x342a8e(0x144)]&&_0x261e0f>=this[_0x342a8e(0x1f6)]&&_0x261e0f<=this['ymax']?!![]:![];}},{'key':_0x17a1db(0xf8),'value':function _0xb19a87(){var _0x1652c4=_0x17a1db,_0x18461a=fRandomByfloat(this[_0x1652c4(0xd3)],this[_0x1652c4(0x144)]),_0x239c55=fRandomByfloat(this['ymin'],this[_0x1652c4(0x129)]);return{'lat':_0x239c55,'lng':_0x18461a};}},{'key':_0x17a1db(0xe9),'value':function _0x288f77(){var _0x44e9c6=_0x17a1db,_0x2a05f0,_0x11336a,_0xf81781;for(var _0x3b251f=0x0,_0x3e0233=this[_0x44e9c6(0x200)][_0x44e9c6(0xde)];_0x3b251f<_0x3e0233;_0x3b251f++){var _0x1deee5=this['particles'][_0x3b251f];_0x1deee5[_0x44e9c6(0x124)]<=0x0&&(_0x1deee5=this[_0x44e9c6(0x1e7)](_0x1deee5));if(_0x1deee5[_0x44e9c6(0x124)]>0x0){var _0x43d98d=_0x1deee5[_0x44e9c6(0x1ee)],_0x546967=_0x1deee5[_0x44e9c6(0x1bc)];_0xf81781=this['getUVByPoint'](_0x43d98d,_0x546967),_0xf81781?(_0x2a05f0=_0x43d98d+this[_0x44e9c6(0xd6)][0x0]*_0xf81781[0x0],_0x11336a=_0x546967+this[_0x44e9c6(0xd6)][0x1]*_0xf81781[0x1],_0x1deee5[_0x44e9c6(0x118)]=_0x43d98d,_0x1deee5[_0x44e9c6(0xff)]=_0x546967,_0x1deee5[_0x44e9c6(0x1ee)]=_0x2a05f0,_0x1deee5[_0x44e9c6(0x1bc)]=_0x11336a,_0x1deee5['age']--):_0x1deee5[_0x44e9c6(0x124)]=0x0;}}return this['particles'];}},{'key':_0x17a1db(0x1e7),'value':function _0x452293(_0x3c28a7){var _0x3667e0=_0x17a1db,_0x671af0,_0x3f62de;for(var _0xa4612a=0x0;_0xa4612a<0x1e;_0xa4612a++){_0x671af0=this[_0x3667e0(0xf8)](),_0x3f62de=this[_0x3667e0(0xe5)](_0x671af0[_0x3667e0(0x118)],_0x671af0[_0x3667e0(0xff)]);if(_0x3f62de&&_0x3f62de[0x2]>0x0)break;}if(!_0x3f62de)return _0x3c28a7;var _0x59d737=_0x671af0[_0x3667e0(0x118)]+this[_0x3667e0(0xd6)][0x0]*_0x3f62de[0x0],_0x44801e=_0x671af0['lat']+this[_0x3667e0(0xd6)][0x1]*_0x3f62de[0x1];return _0x3c28a7[_0x3667e0(0x118)]=_0x671af0['lng'],_0x3c28a7[_0x3667e0(0xff)]=_0x671af0['lat'],_0x3c28a7[_0x3667e0(0x1ee)]=_0x59d737,_0x3c28a7['tlat']=_0x44801e,_0x3c28a7['age']=Math[_0x3667e0(0x171)](Math[_0x3667e0(0xb1)]()*this[_0x3667e0(0x1e0)]),_0x3c28a7;}},{'key':'destroy','value':function _0x3ef90f(){for(var _0x13c483 in this){delete this[_0x13c483];}}}]),_0x1d4e21;}());function fRandomByfloat(_0x24fd1c,_0xb31894){var _0x559623=_0x2c1a02;return _0x24fd1c+Math[_0x559623(0xb1)]()*(_0xb31894-_0x24fd1c);}var Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x2c1a02(0x1d9)][_0x2c1a02(0x168)],CanvasWindLayer=function(_0x21093e){var _0xf91b29=_0x2c1a02;_inherits(_0x4990d2,_0x21093e);var _0x14ebb5=_createSuper(_0x4990d2);function _0x4990d2(){var _0x2ee5cc=_0x257a,_0x861221,_0x3262aa=arguments['length']>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x4990d2),_0x861221=_0x14ebb5[_0x2ee5cc(0x18d)](this,_0x3262aa),_0x861221[_0x2ee5cc(0x221)](_0x3262aa),_0x861221[_0x2ee5cc(0x132)]=null,_0x861221;}return _createClass(_0x4990d2,[{'key':'_setOptionsHook','value':function _0xae8522(_0x53e7a2,_0x256aec){var _0x3628a6=_0x257a,_0xa47862,_0x3779ad,_0x5648a1;this['frameTime']=0x3e8/(_0x53e7a2[_0x3628a6(0xfe)]||0xa),this[_0x3628a6(0x1db)]=(_0xa47862=this[_0x3628a6(0x202)][_0x3628a6(0x1d4)])!==null&&_0xa47862!==void 0x0?_0xa47862:![],this[_0x3628a6(0x235)]=_0x53e7a2[_0x3628a6(0x235)]||_0x3628a6(0xea),this['lineWidth']=_0x53e7a2[_0x3628a6(0x183)]||0x1,this[_0x3628a6(0x19a)]=(_0x3779ad=_0x53e7a2['fixedHeight'])!==null&&_0x3779ad!==void 0x0?_0x3779ad:0x0,this[_0x3628a6(0xdb)]=(_0x5648a1=_0x53e7a2[_0x3628a6(0xdb)])!==null&&_0x5648a1!==void 0x0?_0x5648a1:![],this[_0x3628a6(0x13f)]&&this[_0x3628a6(0x13f)][_0x3628a6(0x1c3)](_0x53e7a2);}},{'key':_0xf91b29(0x1d9),'get':function _0x5b4b2d(){var _0x671382=_0xf91b29;return this[_0x671382(0x132)];}},{'key':'canvasWidth','get':function _0x5c3f75(){var _0x3353d3=_0xf91b29;return this[_0x3353d3(0x198)][_0x3353d3(0x18a)][_0x3353d3(0x132)][_0x3353d3(0x148)];}},{'key':_0xf91b29(0x1b0),'get':function _0x1c9ff5(){var _0x2d6e66=_0xf91b29;return this[_0x2d6e66(0x198)]['scene'][_0x2d6e66(0x132)][_0x2d6e66(0x192)];}},{'key':'pointerEvents','get':function _0x30ce57(){var _0x2adaa9=_0xf91b29;return this[_0x2adaa9(0x1db)];},'set':function _0x293d55(_0x4dadd0){var _0x259c31=_0xf91b29;this[_0x259c31(0x1db)]=_0x4dadd0;if(!this[_0x259c31(0x132)])return;_0x4dadd0?this['canvas']['style'][_0x259c31(0x1a6)]=_0x259c31(0x1b6):this[_0x259c31(0x132)][_0x259c31(0x120)][_0x259c31(0x1a6)]=_0x259c31(0x1dc);}},{'key':_0xf91b29(0x177),'get':function _0x5bbe95(){var _0x1cf4fb=_0xf91b29;return this[_0x1cf4fb(0x202)]['particlesNumber'];},'set':function _0x19e94a(_0x156a50){var _0xd130f7=_0xf91b29,_0x252998=this;this[_0xd130f7(0x202)][_0xd130f7(0x177)]=_0x156a50,clearTimeout(this[_0xd130f7(0x102)]),this[_0xd130f7(0x102)]=setTimeout(function(){var _0x2fa153=_0xd130f7;_0x252998[_0x2fa153(0x178)]();},0x1f4);}},{'key':_0xf91b29(0x117),'get':function _0x23ec74(){var _0x4b8cf9=_0xf91b29;return this[_0x4b8cf9(0x202)][_0x4b8cf9(0x117)];},'set':function _0x538116(_0x2b0734){var _0x330056=_0xf91b29;this[_0x330056(0x202)][_0x330056(0x117)]=_0x2b0734,this['windField']&&(this[_0x330056(0x13f)][_0x330056(0x117)]=_0x2b0734);}},{'key':_0xf91b29(0x1e0),'get':function _0x21ae6f(){var _0xbaf92b=_0xf91b29;return this[_0xbaf92b(0x202)][_0xbaf92b(0x1e0)];},'set':function _0x4c7cbf(_0x13120e){var _0x190584=_0xf91b29;this[_0x190584(0x202)][_0x190584(0x1e0)]=_0x13120e,this[_0x190584(0x13f)]&&(this[_0x190584(0x13f)][_0x190584(0x1e0)]=_0x13120e);}},{'key':'data','get':function _0x35cc3f(){var _0x518361=_0xf91b29;return this[_0x518361(0xf7)];},'set':function _0x1cb5ca(_0x221e20){var _0x9ca3bf=_0xf91b29;this[_0x9ca3bf(0xc1)](_0x221e20);}},{'key':_0xf91b29(0x210),'value':function _0x30321c(_0x4650c7){var _0x5c3170=_0xf91b29;_0x4650c7?this['_addedHook']():(this[_0x5c3170(0xf7)]&&(this['options']['data']=this[_0x5c3170(0xf7)]),this[_0x5c3170(0x1ab)]());}},{'key':'_mountedHook','value':function _0x4e112c(){var _0x359eaa=_0xf91b29;this[_0x359eaa(0x202)][_0x359eaa(0x19f)]?this['initWorker']():this['windField']=new CanvasWindField(this[_0x359eaa(0x202)]);}},{'key':_0xf91b29(0xd5),'value':function _0x44d4db(){var _0x5ac024=_0xf91b29;this[_0x5ac024(0x132)]=this[_0x5ac024(0x1e8)](),this['canvasContext']=this[_0x5ac024(0x132)][_0x5ac024(0x127)]('2d'),this[_0x5ac024(0x190)](),this[_0x5ac024(0x202)][_0x5ac024(0x10f)]&&this[_0x5ac024(0xc1)](this[_0x5ac024(0x202)][_0x5ac024(0x10f)]);}},{'key':'_removedHook','value':function _0x444376(){var _0x4f3043=_0xf91b29;this[_0x4f3043(0x1fc)](),this['unbindEvent'](),this[_0x4f3043(0x132)]&&(this[_0x4f3043(0x198)][_0x4f3043(0x1c8)][_0x4f3043(0x1b4)](this[_0x4f3043(0x132)]),delete this['canvas']);}},{'key':_0xf91b29(0x1e8),'value':function _0x13417f(){var _0x2d610b=_0xf91b29,_0xb1a098=document[_0x2d610b(0x146)](_0x2d610b(0x132));_0xb1a098['style']['position']=_0x2d610b(0x1e2),_0xb1a098[_0x2d610b(0x120)]['top']=_0x2d610b(0x23b),_0xb1a098[_0x2d610b(0x120)]['left']=_0x2d610b(0x23b),_0xb1a098['style'][_0x2d610b(0x125)]=_0x2d610b(0x1c6),_0xb1a098['style'][_0x2d610b(0xc8)]=_0x2d610b(0x1c6),_0xb1a098[_0x2d610b(0x120)][_0x2d610b(0x1d4)]=this[_0x2d610b(0x1db)]?'auto':_0x2d610b(0x1dc),_0xb1a098['style'][_0x2d610b(0x114)]=0xa,_0xb1a098['setAttribute']('id',_0x2d610b(0x213)),_0xb1a098[_0x2d610b(0x236)](_0x2d610b(0x170),_0x2d610b(0x213)),this[_0x2d610b(0x198)][_0x2d610b(0x1c8)][_0x2d610b(0x237)](_0xb1a098);var _0x1d4227=this['_map'][_0x2d610b(0x18a)];return _0xb1a098[_0x2d610b(0x125)]=_0x1d4227[_0x2d610b(0x132)][_0x2d610b(0x148)],_0xb1a098[_0x2d610b(0xc8)]=_0x1d4227[_0x2d610b(0x132)][_0x2d610b(0x192)],_0xb1a098;}},{'key':'resize','value':function _0x2bf5ab(){var _0x1a098e=_0xf91b29;this['canvas']&&(this[_0x1a098e(0x132)]['width']=this[_0x1a098e(0x110)],this[_0x1a098e(0x132)][_0x1a098e(0xc8)]=this[_0x1a098e(0x1b0)]);}},{'key':'bindEvent','value':function _0x12fd0e(){var _0x93d556=_0xf91b29,_0x48ff54=this,_0x25a3c6=Date[_0x93d556(0x141)]();(function _0x2a2210(){var _0x3c7948=_0x93d556;_0x48ff54[_0x3c7948(0xcc)]=window[_0x3c7948(0x1fb)](_0x2a2210);if(_0x48ff54['show']&&_0x48ff54[_0x3c7948(0x13f)]){var _0x2aef1b=Date['now'](),_0x211488=_0x2aef1b-_0x25a3c6;_0x211488>_0x48ff54[_0x3c7948(0x151)]&&(_0x25a3c6=_0x2aef1b-_0x211488%_0x48ff54[_0x3c7948(0x151)],_0x48ff54[_0x3c7948(0x20e)]());}}(),window[_0x93d556(0x22a)](_0x93d556(0x199),this[_0x93d556(0x199)]['bind'](this),![]),this[_0x93d556(0x169)]=![],this[_0x93d556(0x18f)]=![],this[_0x93d556(0x202)][_0x93d556(0x19c)]&&(this[_0x93d556(0x198)]['on'](mars3d__namespace[_0x93d556(0x196)][_0x93d556(0x1aa)],this[_0x93d556(0x15a)],this),this[_0x93d556(0x198)]['on'](mars3d__namespace[_0x93d556(0x196)][_0x93d556(0x1ba)],this['_onMouseDownEvent'],this),this[_0x93d556(0x198)]['on'](mars3d__namespace[_0x93d556(0x196)][_0x93d556(0x126)],this[_0x93d556(0xef)],this)));}},{'key':_0xf91b29(0x23d),'value':function _0x5101a8(){var _0x5a01bf=_0xf91b29;window[_0x5a01bf(0x194)](this[_0x5a01bf(0xcc)]),delete this[_0x5a01bf(0xcc)],window[_0x5a01bf(0x1be)](_0x5a01bf(0x199),this[_0x5a01bf(0x199)]),this[_0x5a01bf(0x202)][_0x5a01bf(0x19c)]&&(this[_0x5a01bf(0x198)][_0x5a01bf(0x191)](mars3d__namespace[_0x5a01bf(0x196)][_0x5a01bf(0x1aa)],this[_0x5a01bf(0x15a)],this),this[_0x5a01bf(0x198)][_0x5a01bf(0x191)](mars3d__namespace[_0x5a01bf(0x196)][_0x5a01bf(0x1ba)],this[_0x5a01bf(0x222)],this),this['_map'][_0x5a01bf(0x191)](mars3d__namespace[_0x5a01bf(0x196)]['mouseUp'],this['_onMouseUpEvent'],this),this[_0x5a01bf(0x198)][_0x5a01bf(0x191)](mars3d__namespace[_0x5a01bf(0x196)][_0x5a01bf(0x101)],this[_0x5a01bf(0x229)],this));}},{'key':_0xf91b29(0x15a),'value':function _0x4210a9(_0x5d4e2d){var _0x5a5428=_0xf91b29,_0x2e5e08=this;clearTimeout(this['refreshTimer']);if(!this[_0x5a5428(0x17e)]||!this[_0x5a5428(0x132)])return;this[_0x5a5428(0x132)][_0x5a5428(0x120)][_0x5a5428(0x1fe)]='hidden',this[_0x5a5428(0x20b)]=setTimeout(function(){var _0x4270ac=_0x5a5428;if(!_0x2e5e08[_0x4270ac(0x17e)])return;_0x2e5e08[_0x4270ac(0x178)](),_0x2e5e08[_0x4270ac(0x132)][_0x4270ac(0x120)][_0x4270ac(0x1fe)]='visible';},0xc8);}},{'key':_0xf91b29(0x222),'value':function _0x415909(_0x2e6326){var _0x1a1cb8=_0xf91b29;this[_0x1a1cb8(0x169)]=!![],this[_0x1a1cb8(0x198)][_0x1a1cb8(0x191)](mars3d__namespace[_0x1a1cb8(0x196)][_0x1a1cb8(0x101)],this['_onMouseMoveEvent'],this),this[_0x1a1cb8(0x198)]['on'](mars3d__namespace['EventType'][_0x1a1cb8(0x101)],this[_0x1a1cb8(0x229)],this);}},{'key':_0xf91b29(0x229),'value':function _0x43efcd(_0x3b9cb2){var _0x54bd3c=_0xf91b29;if(!this[_0x54bd3c(0x17e)]||!this[_0x54bd3c(0x132)])return;this[_0x54bd3c(0x169)]&&(this[_0x54bd3c(0x132)][_0x54bd3c(0x120)]['visibility']=_0x54bd3c(0x10c),this[_0x54bd3c(0x18f)]=!![]);}},{'key':_0xf91b29(0xef),'value':function _0x53ca56(_0x54c702){var _0x4b7358=_0xf91b29;if(!this[_0x4b7358(0x17e)]||!this['canvas'])return;this[_0x4b7358(0x198)][_0x4b7358(0x191)](mars3d__namespace['EventType']['mouseMove'],this[_0x4b7358(0x229)],this),this[_0x4b7358(0x169)]&&this[_0x4b7358(0x18f)]&&this[_0x4b7358(0x178)](),this[_0x4b7358(0x132)][_0x4b7358(0x120)][_0x4b7358(0x1fe)]=_0x4b7358(0x21b),this[_0x4b7358(0x169)]=![],this['mouse_move']=![];}},{'key':'setData','value':function _0x1d931a(_0x39e971){var _0x3b2256=_0xf91b29;this[_0x3b2256(0x1fc)](),this[_0x3b2256(0xf7)]=_0x39e971,this[_0x3b2256(0x13f)]['setDate'](_0x39e971),this['redraw']();}},{'key':_0xf91b29(0x178),'value':function _0x4d2cb2(){var _0x2a2284=_0xf91b29;if(!this[_0x2a2284(0x17e)])return;this[_0x2a2284(0x13f)][_0x2a2284(0x1c3)](this['options']),this[_0x2a2284(0x20e)]();}},{'key':'update','value':function _0xdf8ce(){var _0x5dc9a8=_0xf91b29;if(this['_updateIng'])return;this[_0x5dc9a8(0xe4)]=!![];if(this[_0x5dc9a8(0x19f)])this[_0x5dc9a8(0x13f)][_0x5dc9a8(0x20e)]();else{var _0x489a7b=this[_0x5dc9a8(0x13f)]['getParticles']();this[_0x5dc9a8(0x195)](_0x489a7b);}this[_0x5dc9a8(0xe4)]=![];}},{'key':_0xf91b29(0x195),'value':function _0x3f6a7c(_0x423bce){var _0x1a1eeb=_0xf91b29;this[_0x1a1eeb(0x217)]['globalCompositeOperation']='destination-in',this[_0x1a1eeb(0x217)]['fillRect'](0x0,0x0,this[_0x1a1eeb(0x110)],this[_0x1a1eeb(0x1b0)]),this[_0x1a1eeb(0x217)][_0x1a1eeb(0x1ac)]=_0x1a1eeb(0x165),this[_0x1a1eeb(0x217)][_0x1a1eeb(0x212)]=0.9,this['canvasContext']['beginPath'](),this[_0x1a1eeb(0x217)][_0x1a1eeb(0x183)]=this[_0x1a1eeb(0x183)],this[_0x1a1eeb(0x217)][_0x1a1eeb(0x180)]=this[_0x1a1eeb(0x235)];var _0x330247=this[_0x1a1eeb(0x198)]['scene'][_0x1a1eeb(0x111)]!==Cesium[_0x1a1eeb(0xdd)]['SCENE3D'];for(var _0x9ead43=0x0,_0x27f0a5=_0x423bce[_0x1a1eeb(0xde)];_0x9ead43<_0x27f0a5;_0x9ead43++){var _0x13e69e=_0x423bce[_0x9ead43],_0x5c59b1=this[_0x1a1eeb(0xb5)](_0x13e69e[_0x1a1eeb(0x118)],_0x13e69e['lat'],_0x13e69e),_0x1ebe10=this[_0x1a1eeb(0xb5)](_0x13e69e[_0x1a1eeb(0x1ee)],_0x13e69e[_0x1a1eeb(0x1bc)],_0x13e69e);if(!_0x5c59b1||!_0x1ebe10)continue;if(_0x330247&&Math[_0x1a1eeb(0x134)](_0x5c59b1[0x0]-_0x1ebe10[0x0])>=this[_0x1a1eeb(0x110)])continue;this['canvasContext'][_0x1a1eeb(0xbc)](_0x5c59b1[0x0],_0x5c59b1[0x1]),this[_0x1a1eeb(0x217)]['lineTo'](_0x1ebe10[0x0],_0x1ebe10[0x1]);}this[_0x1a1eeb(0x217)][_0x1a1eeb(0x22e)]();}},{'key':'_tomap','value':function _0x522ce7(_0x40bd2e,_0xf389e8,_0x2d2a43){var _0x52614d=_0xf91b29,_0x53cd46=Cesium[_0x52614d(0x1cb)][_0x52614d(0x1a3)](_0x40bd2e,_0xf389e8,this[_0x52614d(0x19a)]),_0x4ea348=this[_0x52614d(0x198)]['scene'];if(_0x4ea348['mode']===Cesium[_0x52614d(0xdd)][_0x52614d(0x1f9)]){var _0x52cd57=new Cesium[(_0x52614d(0x18b))](_0x4ea348[_0x52614d(0x211)][_0x52614d(0x1d0)],_0x4ea348[_0x52614d(0xee)][_0x52614d(0x107)]),_0x470d7a=_0x52cd57['isPointVisible'](_0x53cd46);if(!_0x470d7a)return _0x2d2a43[_0x52614d(0x124)]=0x0,null;}var _0x343dde=Cesium[_0x52614d(0x15d)]['wgs84ToWindowCoordinates'](this[_0x52614d(0x198)][_0x52614d(0x18a)],_0x53cd46);return _0x343dde?[_0x343dde['x'],_0x343dde['y']]:null;}},{'key':_0xf91b29(0x1fc),'value':function _0x3a0dc1(){var _0x54b0b0=_0xf91b29;this[_0x54b0b0(0x13f)]['clear'](),delete this[_0x54b0b0(0xf7)];}},{'key':_0xf91b29(0xd1),'value':function _0xe6a2e0(){var _0x5bd583=_0xf91b29,_0x341595=this;this[_0x5bd583(0x19f)]=new Worker(this['options']['worker']),this[_0x5bd583(0x19f)][_0x5bd583(0x10b)]=function(_0x1b6900){var _0xb11d2f=_0x5bd583;_0x341595[_0xb11d2f(0x195)](_0x1b6900[_0xb11d2f(0x10f)][_0xb11d2f(0x200)]),_0x341595[_0xb11d2f(0xd4)]=![];},this[_0x5bd583(0x13f)]={'init':function _0x1d394c(_0x5029ad){var _0x372aec=_0x5bd583;_0x341595[_0x372aec(0x19f)][_0x372aec(0xc3)]({'type':_0x372aec(0x21d),'options':_0x5029ad});},'setOptions':function _0x3d26c1(_0x3b38f8){var _0x2220d3=_0x5bd583;_0x341595[_0x2220d3(0x19f)][_0x2220d3(0xc3)]({'type':_0x2220d3(0x1c3),'options':_0x3b38f8});},'setDate':function _0x212f76(_0x11a545){var _0xdd06a2=_0x5bd583;_0x341595[_0xdd06a2(0x19f)][_0xdd06a2(0xc3)]({'type':_0xdd06a2(0x113),'data':_0x11a545});},'update':function _0x5f4f2e(){var _0x4ddaec=_0x5bd583;if(_0x341595[_0x4ddaec(0xd4)])return;_0x341595[_0x4ddaec(0xd4)]=!![],_0x341595['worker'][_0x4ddaec(0xc3)]({'type':_0x4ddaec(0x20e)});},'clear':function _0xf268c7(){var _0x2a994b=_0x5bd583;_0x341595['worker'][_0x2a994b(0xc3)]({'type':_0x2a994b(0x1fc)});}},this[_0x5bd583(0x13f)][_0x5bd583(0x21d)](this[_0x5bd583(0x202)]);}}]),_0x4990d2;}(BaseLayer);mars3d__namespace[_0x2c1a02(0x238)][_0x2c1a02(0x181)](_0x2c1a02(0xf0),CanvasWindLayer),mars3d__namespace[_0x2c1a02(0x1d9)][_0x2c1a02(0x147)]=CanvasWindLayer,mars3d__namespace[_0x2c1a02(0x1eb)]=CanvasWindField,mars3d__namespace[_0x2c1a02(0x1e3)]=WindUtil,exports['CanvasWindField']=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports[_0x2c1a02(0xb9)]=WindLayer,exports['WindUtil']=WindUtil,Object[_0x2c1a02(0x1bf)](exports,_0x2c1a02(0x197),{'value':!![]});
}));
